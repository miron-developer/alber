{"version":3,"sources":["components/app-notification/notification.jsx","constants/constants.js","utils/api.js","utils/content.jsx","utils/user.js","components/popup/popup.jsx","utils/form.js","utils/file.js","components/form-input/input.jsx","components/submit-btn/submit.jsx","components/preloaded-files-plash/plash.jsx","components/clips/clips.jsx","components/clipped-files-plash/plash.jsx","components/parsel/manage/manage.jsx","components/traveler/manage/manage.jsx","components/to-toptype/toptype.jsx","components/to-up/up.jsx","components/to-delete/delete.jsx","utils/effects.js","utils/hooks.js","components/parsel/parsel.jsx","components/traveler/traveler.jsx","components/aside/history/history.jsx","components/form-select/select.jsx","components/phone-field/field.jsx","components/password-field/password.jsx","components/aside/edit-profile/profile.jsx","components/aside/aside.jsx","components/header/header.jsx","routes/sign/up/up.jsx","routes/sign/in/in.jsx","routes/sign/reset/reset.jsx","routes/sign/sign.jsx","routes/404/404.jsx","routes/parsel/parsel.jsx","routes/parsels/parsels.jsx","routes/traveler/traveler.jsx","routes/travelers/travelers.jsx","routes/faq/faq.jsx","routes/contacts/contacts.jsx","routes/admins/admins.jsx","components/routes/routes.jsx","App.jsx","reportWebVitals.js","index.jsx"],"names":["interID","USER","id","phoneNumber","nickname","status","guest","formDataToString","data","FormData","res","entries","k","v","slice","Fetching","action","a","method","undefined","err","fetchOption","encodeURI","fetch","then","json","catch","Object","assign","prepareDataToFetch","datas","append","GetDataByCrieteries","datatype","criteries","code","POSTRequestWithParams","to","params","IS_SIGN","decodeURI","useLocation","pathname","split","includes","RandomKey","Math","round","random","ValidateParselTravelerSearch","from","weight","price","Notify","SAppNotifications","styled","div","SAppNotification","SCloseNotification","add","removeNotification","type","content","isAutoClose","length","setInterval","clearInterval","Notification","setTimeout","noteContent","Function","className","onClick","Notifications","useState","ntfs","setNTFS","filter","item","props","key","IsLogged","changeUserData","Date","now","toString","UserOnline","UserOffline","SignOut","history","push","SDisplayFlexCenter","css","SPopup","SPopupBG","SPopupClose","SContentWrapper","close","closeCB","onCloseCB","OnClosePopup","f","PopupOpen","Component","componentArgs","ClosePopup","Popup","popup","setPopup","isOpened","setOpenedState","useInput","initValue","value","setValue","handleChange","e","target","resetField","setCertainValue","base","onChange","useTogglePassword","initState","state","changeType","toggleType","BaseFormValidation","resIndexs","i","values","test","NotifyInvalidField","selector","field","afterStyle","document","createElement","innerHTML","head","appendChild","ResetForm","fields","forEach","ClearAllNotifications","afterStyles","AS","remove","setNotificationIfExist","BIndexs","CIndexs","index","SubmitFormData","customValidation","onSuccess","onFail","isReset","preventDefault","form","getAttribute","UploadFile","file","whomFile","whomID","SFormField","label","Input","name","labelText","minLength","maxLength","list","min","max","required","hidden","placeholder","htmlFor","SSubmitBtn","input","SubmitBtn","SFilesPlash","SFileUploadWrapper","SRemoveFile","RenderUploadedFile","filename","src","removeFile","alt","PreloadedFilesPlash","preloadedFiles","map","SClipItem","color","ClipOneBtn","srcIcon","ClipPlash","setFiles","preloadedCB","files","addToPlash","accept","cb","click","addEventListener","stopImmediatePropagation","URL","createObjectURL","PreloadFile","SClippedFileWrapper","size","SClippedFileSrc","RenderClippedFile","stopPropagation","ClippedFiles","SParsel","removePhoto","clearAll","setHaveWhatsUp","setPreloaded","uploadImages","images","parselID","img","ManageParsel","reloadCB","failText","successText","parseFloat","description","contactNumber","fromID","toID","isHaveWhatsUp","OnChangeTransitPoint","photos","setPhotos","ph","onSubmit","useCallback","oldParams","comparedParams","CompareParams","GetValueFromListByIDAndInputValue","rows","checked","STravel","setTravelType","defineTravelTypeByID","travelTypeID","ManageTraveler","travelType","parseInt","SToUp","toUp","ToUp","toDelete","ToDelete","Debounce","fn","ms","timeOut","args","clearTimeout","DbnceCities","options","op","textContent","dt","getElementById","ScrollHandler","isStopLoad","isScrollingToTop","loadCallback","childrenClass","children","getElementsByClassName","parent","parentNode","position","window","scrollY","treshhold","body","offsetHeight","innerHeight","pRec","getBoundingClientRect","scrollTop","scrollHeight","height","priorEdgeChildNum","childElementCount","el","childNodes","scrollIntoView","behavior","EditItem","RemoveItem","TopItem","newParams","currentParams","obj","removeEmptyFields","listID","inputValue","Array","find","option","point","useFromTo","step","fromToState","setFromToState","setDataList","getPart","getWhat","isAppToEnd","isNeedClear","start","isLoaded","datalist","zeroState","Parsel","isMy","changeItem","removeItem","reloadItem","setOpened","getPhotos","useEffect","title","rel","href","open","newData","STraveler","Traveler","SHistory","section","loadHistory","getType","getTypeOnRus","History","tab","setTab","setReload","configHistoryParams","Item","findIndex","d","onScroll","SLalel","Select","text","selected","opt","makeText","PhoneField","codes","setCodes","getCodes","country","SPasswordWrapper","PasswordField","pass","passToggle","passElem","passwordToggle","elem","classList","toggle","setAttribute","ShowAndHidePassword","SForms","EditProfile","phone","setStep","onSuccessStep1","login","newPhone","onSuccessStep2","SAside","aside","SUser","SLogo","SNickname","SLogout","SEdit","Aside","useHistory","as","NavLink","isAdmin","SHeader","header","SNavLink","GNavLink","isExact","linkText","exact","activeClassName","Header","SignUp","password","SignIn","Restore","SSign","GSignAction","mainAction","setAction","otherActions","GInAction","GUpAction","GResetAction","S404","Page404","SParselGuest","SParsels","STravelGuest","STravelers","SFaq","article","SContacts","SAdmin","GRoute","active","route","methods","setRoute","r","GParam","removeParam","GResultData","rf","useRef","current","prettyPrintJson","toHtml","ref","SMain","main","ROUTES","component","download","loadParsels","clear","onscroll","p","loadTravelers","routes","setRoutes","setData","setMethod","setParams","getRoutes","resp","getData","m","addParam","DefineRoutes","location","path","SApp","isSign","App","reportWebVitals","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB","check","ReactDOM","render","StrictMode","init"],"mappings":"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","file":"static/js/main.75de9416.chunk.js","sourcesContent":["import { useState } from 'react';\n\nimport { RandomKey } from 'utils/content';\n\nimport styled from 'styled-components';\n\nconst SAppNotifications = styled.div`\n    position: fixed;\n    right: 0;\n    bottom: 0;\n    display: flex;\n    flex-direction: column;\n    align-items: flex-end;\n    z-index: 20;\n`\n\nconst SAppNotification = styled.div`\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    width: max-content;\n    max-width: 50vw;\n    margin: .5rem;\n    padding: 1rem;\n    color: white;\n    border-radius: 5px;\n    background: #596d8c;\n    box-shadow: var(--boxShadow);\n`;\n\nconst SCloseNotification = styled.div`\n    padding: 5px;\n    margin-left: 10px;\n    height: 1.5rem;\n    width: 1.5rem;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    color: var(--redColor);\n    background: var(--darkRedColor);\n    border-radius: 50%;\n    cursor: pointer;\n`;\n\nlet add = () => {};\nlet removeNotification = id => {};\nlet interID;\n\nexport const Notify = (type, content, isAutoClose) => {\n    if (add.length !== 0) return add(type, content, isAutoClose);\n    interID = setInterval(() => {\n        if (add.length !== 0) {\n            clearInterval(interID);\n            add(type, content, isAutoClose);\n        }\n    }, 0);\n}\n\nconst Notification = ({ id = 0, type = \"fail\", content, isAutoClose = true }) => {\n    if (!content) return <div></div>;\n    if (isAutoClose) setTimeout(() => removeNotification(id), 5000);\n\n    let noteContent = content\n    if (content instanceof Function) noteContent = content(); \n\n    return (\n        <SAppNotification>\n            <div className=\"notification-content\">{noteContent}</div>\n            <SCloseNotification onClick={()=>removeNotification(id)}>\n                <i className=\"fa fa-times\" aria-hidden=\"true\"></i>\n            </SCloseNotification>\n        </SAppNotification>\n    )\n}\n\nexport default function Notifications() {\n    const [ntfs, setNTFS] = useState([]);\n\n    removeNotification = id => setNTFS(ntfs.filter(item => item.props.id !== id));\n    add = (type, content, isAutoClose)  => {\n        const key = RandomKey();\n        setNTFS([...ntfs, <Notification key={key} id={key} type={type} content={content} isAutoClose={isAutoClose} />]);\n    }\n\n    return <SAppNotifications>{ntfs}</SAppNotifications>;\n}","// current user data\nexport const USER = {\n    id: -1,\n    phoneNumber: '',\n    nickname: 'nickname',\n    status: '',\n    guest: false,\n};","const formDataToString = (data = new FormData()) => {\n    let res = \"\";\n    for (let [k, v] of data.entries())\n        res += k + \"=\" + v + \"&\"\n    return res.slice(0, -1)\n}\n\n// use fetching by both method\nexport const Fetching = async(action, data, method = \"POST\") => {\n    if (action === undefined) return { err: \"action undefined\" };\n\n    const fetchOption = { 'method': method };\n    if (method === \"GET\") action += \"?\" + encodeURI(formDataToString(data));\n    else fetchOption[\"body\"] = data;\n\n    return await fetch(action, fetchOption)\n        .then(res => res.json())\n        .catch(err => Object.assign({}, { 'err': \"500: \" + err }));\n}\n\n// convert from object to FormData\nconst prepareDataToFetch = (datas = {}) => {\n    const data = new FormData();\n    for (let [k, v] of Object.entries(datas)) data.append(k, v);\n    return data;\n}\n\n// get data by criteries & type\nexport const GetDataByCrieteries = async(datatype, criteries = {}) => {\n    const data = prepareDataToFetch(criteries);\n    const res = await Fetching(\"/api/\" + datatype, data, 'GET');\n    if (res.code !== 200) return { 'err': res.err }\n    return res.data;\n}\n\n// send post req to host with params\nexport const POSTRequestWithParams = async(to, params = {}) => {\n    const data = prepareDataToFetch(params);\n    return await Fetching(to, data);\n}","import { useLocation } from \"react-router\";\n\nimport { Notify } from \"components/app-notification/notification\";\n\nexport const GET_CUR_PATHNAME = () => decodeURI(useLocation().pathname);\nexport const IS_SIGN = () => GET_CUR_PATHNAME().split('/').includes(\"sign\");\n\n// return two digit string\nexport const IsTwoDigit = data => parseInt(data) < 10 ? \"0\".concat(data) : data;\n\n// generate date(15/12/2020 09:09) from milliseconds\nexport const DateFromMilliseconds = (milliseconds, isForInput = true) => {\n    const datetime = new Date(parseInt(milliseconds));\n    if (isNaN(datetime)) return;\n    const str = [datetime.getFullYear(), IsTwoDigit(datetime.getMonth() + 1), IsTwoDigit(datetime.getDate())].join('-')\n    return str;\n}\n\n// calculate time after thing created\nexport const CalculateRelativeDatetime = (datetime = Date.now().toString()) => {\n    const now = Date.now();\n    const given = parseInt(datetime);\n\n    const delims = [[60, \".\"], [60, \".\"], [24, \".\"], [7, 30, \".\"], [30, 365, \".\"], [365, \"\"]]\n    const isPast = (now - given) > 0 ? true : false;\n    let diff = Math.abs(now - given) / 1000;\n    let diffType = \"\";\n\n    const returnDate = () => {\n        diff = Math.floor(diff);\n\n        if (!isPast) return [\"\", IsTwoDigit(diff), diffType].join(' ');\n\n        const isToday = Math.abs(now - given) < 86400000;\n        return [isToday ? '' : '', IsTwoDigit(diff), diffType, \"\"].join(' ');\n    }\n\n    // calculate difference\n    for (let i = 0; i < delims.length; i++) {\n        const cur_del = delims[i]\n        if (cur_del.length === 2) {\n            if (diff > cur_del[0]) {\n                diff /= cur_del[0];\n                diffType = cur_del[1];\n                continue\n            }\n            break\n        }\n        if (cur_del[0] < diff && diff < cur_del[1]) {\n            diff /= cur_del[0];\n            diffType = cur_del[2];\n            continue\n        }\n        break\n    }\n    return returnDate();\n}\n\nexport const RandomKey = () => Math.round(Math.random() * Math.random() * 100000000);\n\nexport const ValidateParselTravelerSearch = (from, to, weight, price) => {\n    // filter transit points, check exist, !=\n    if (from === to || !to || !from) return Notify('fail', \"    \")\n    return {\n        'fromID': from,\n        'toID': to,\n        'weight': weight || '',\n        'price': price || '',\n    }\n}\n","import { USER } from 'constants/constants';\nimport { GetDataByCrieteries, POSTRequestWithParams } from './api';\nimport { Notify } from 'components/app-notification/notification';\n\nexport const IsLogged = async() => {\n    const res = await POSTRequestWithParams('/sign/status');\n    if (res.err !== 'ok') {\n        Notify('fail', res.err);\n        return false;\n    }\n    return res.data.id;\n}\n\n// change USER const\nconst changeUserData = async(id) => {\n    if (id !== undefined) {\n        const res = (await GetDataByCrieteries('user', { id: id }));\n        if (res.err && res.err !== \"ok\") {\n            return Notify('fail', \"   .   \")\n        }\n        for (let [k, v] of Object.entries(res[0])) USER[k] = v;\n        USER.status = 'online';\n        return true;\n    } else {\n        for (let k in USER) USER[k] = '';\n        USER.status = Date.now().toString();\n        USER.nickname = \"nickname\";\n        return true;\n    }\n}\n\n// Switch to online\nexport const UserOnline = async(id) => await changeUserData(id);;\n\n// Switch to offline\nexport const UserOffline = async() => await changeUserData();\n\n// send to server signal about sign out\nexport const SignOut = async(history) => {\n    Notify('info', \" ...\");\n    const res = await POSTRequestWithParams(\"/sign/out\");\n    if (res.err !== \"ok\") return Notify('fail', \":   \");;\n    const isSignOuted = await UserOffline();\n    if (!isSignOuted) return;\n    history.push('/sign/in');\n    Notify('success', \" \");\n}","import { useState } from 'react';\n\nimport styled, { css } from 'styled-components';\n\nconst SDisplayFlexCenter = css`\n    display: flex;\n    align-items: center;\n    justify-content: center;\n`;\n\nconst SPopup = styled.div`\n    position: fixed;\n    left: 50%;\n    top: 50%;\n    width: 0;\n    height: 0;\n    ${SDisplayFlexCenter};\n    border-radius: 5px;\n    transition: var(--transitionApp);\n    opacity: 0;\n    z-index: -10;\n\n    &.opened {\n        left: 0;\n        top: 0;\n        width: 100vw;\n        height: 100vh;\n        opacity: 1;\n        z-index: 20;\n    }\n`;\n\n\nconst SPopupBG = styled.div`\n    position: absolute;\n    width: 100vw;\n    height: 100vh;\n    background: #000000ab;\n    backdrop-filter: blur(1px);\n`;\n\nconst SPopupClose = styled.div`\n    position: absolute;\n    right: 20px;\n    top: 10px;\n    width: 1rem;\n    height: 1rem;\n    padding: 5px;\n    ${SDisplayFlexCenter};\n    background: var(--redColor);\n    border-radius: 100%;\n    transition: var(--transitionApp);\n    cursor: pointer;\n\n    &:hover{\n        background: var(--darkRedColor);\n    }\n`;\n\nconst SContentWrapper = styled.div`\n    max-height: 90vh;\n    max-width: 80vw;\n    height: max-content;\n    width: max-content;\n    ${SDisplayFlexCenter};\n    flex-direction: column;\n    border-radius: 10px;\n    background: #ffffffc7;\n    z-index: 20;\n\n    & > * {\n        overflow: auto;\n    }\n`;\n\nlet add = () => { };\n\nlet close = () => { };\nlet closeCB = () => { };\n\nlet onCloseCB = () => { };\n\nexport const OnClosePopup = (f = () => { }) =>  onCloseCB = f;\n\nexport const PopupOpen = (Component, componentArgs = {}) => {\n    add(Component, componentArgs);\n    if (componentArgs.closeCB) closeCB = componentArgs.closeCB;\n}\nexport const ClosePopup = () => close();\n\nexport default function Popup() {\n    const [popup, setPopup] = useState(null);\n    const [isOpened, setOpenedState] = useState(false);\n    add = (Component, componentArgs) => setPopup(<Component {...componentArgs} />) || setOpenedState(true);\n    close = () => {\n        setOpenedState(false) || setPopup(null);\n        closeCB();\n        onCloseCB()\n    }\n\n    return (\n        <SPopup className={`${isOpened ? 'opened' : ''}`} >\n            <SPopupBG onClick={close} />\n\n            <SPopupClose onClick={close}>\n                <i className=\"fa fa-times\" aria-hidden=\"true\"></i>\n            </SPopupClose>\n\n            <SContentWrapper>\n                {popup}\n            </SContentWrapper>\n        </SPopup>\n    )\n}","import { useState } from 'react';\n\nimport { Fetching } from './api';\n\n// useInput custom react hook\nexport const useInput = (initValue = '') => {\n    const [value, setValue] = useState(initValue);\n    const handleChange = e => setValue(e.target.value);\n    const resetField = () => setValue('');\n    const setCertainValue = v => setValue(v);\n\n    return {\n        base: {\n            value,\n            onChange: handleChange,\n        },\n        resetField,\n        setCertainValue\n    }\n}\n\n// for show/hide password\nexport const useTogglePassword = (initState = 'password') => {\n    const [state, changeType] = useState(initState);\n    const toggleType = () => changeType(state === 'password' ? 'text' : 'password');\n\n    return {\n        state,\n        toggleType\n    }\n}\n\n// check xss attack\nexport const isHaveXSS = content => /<+[\\w\\s/]+>+/gm.test(content);\n\n// base validation check html validation & xss\nexport const BaseFormValidation = data => {\n    const resIndexs = [];\n    let i = 0;\n    for (let v of data.values()) {\n        if (isHaveXSS(v)) resIndexs.push(i);\n        i++;\n    }\n    return resIndexs;\n}\n\n// create one ::after notification\nexport const NotifyInvalidField = (selector, field) => {\n    const afterStyle = document.createElement('style');\n    afterStyle.innerHTML += `${selector}::after{content: ''; font-size: 1rem; color: red; margin: 10px;}`;\n    document.head.appendChild(afterStyle);\n    field.resetField();\n    return afterStyle;\n}\n\n// reset form by calling component method\nexport const ResetForm = fields => {\n    if (!fields) return;\n    fields.forEach(field => field.resetField());\n}\n\n// clear all custom ::after styles\nexport const ClearAllNotifications = (afterStyles = []) => afterStyles.forEach(AS => AS.remove());\n\nconst setNotificationIfExist = (BIndexs, CIndexs, afterStyles, fields) => {\n    if (!fields) return;\n    if (BIndexs.length !== 0)\n        BIndexs.forEach(index => afterStyles.push(NotifyInvalidField(`.form-field-${1+index} .form-input-notification`, fields[index])));\n    if (CIndexs && CIndexs.length !== 0)\n        CIndexs.forEach(index => afterStyles.push(NotifyInvalidField(`.form-field-${1+index} .form-input-notification`, fields[index])));\n}\n\n// submit form: check all validations, return ::after styles, notify & reset fields\nexport const SubmitFormData = async(e, afterStyles, fields, customValidation = () => {}, onSuccess = () => {}, onFail = () => {}, isReset = true) => {\n    e.preventDefault();\n    ClearAllNotifications(afterStyles);\n    afterStyles = [];\n\n    const form = e.target;\n    const action = form.getAttribute('action');\n    if (!action) return;\n    const data = new FormData(form);\n\n    // validation\n    const BIndexs = BaseFormValidation(data),\n        CIndexs = customValidation();\n\n    // notification\n    setNotificationIfExist(BIndexs, CIndexs, afterStyles, fields);\n\n    // fetching & notification\n    if ((BIndexs.length === 0 && !CIndexs) ||\n        (BIndexs.length === 0 && CIndexs && CIndexs.length === 0)) {\n        const res = await Fetching(action, data);\n\n        if (res.err === \"ok\") {\n            if (isReset) ResetForm(fields);\n            return onSuccess(res.data);\n        }\n        return onFail(res.err);\n    }\n    onFail(\" \");\n    return afterStyles;\n}","import { POSTRequestWithParams } from \"utils/api\";\n\n// preload file\nexport const PreloadFile = (accept, cb = (file, src, type) => {}) => {\n    const input = document.createElement('input');\n    input.type = 'file';\n    input.accept = accept;\n    input.click();\n\n    input.addEventListener('change', async(e) => {\n        e.stopImmediatePropagation();\n        const file = input.files[0];\n\n        if (file) cb(file, URL.createObjectURL(file), file.type);\n    });\n}\n\n// upload file to server\nexport const UploadFile = async(type, file, whomFile, whomID) => {\n    if (!type || !file || !whomFile) return { err: 'deficite data' };\n    const params = {\n        'type': type,\n        'file': file,\n        'whomFile': whomFile,\n    }\n    if (whomID) params['whomID'] = whomID;\n\n    const res = await POSTRequestWithParams('/s/image', params);\n    if (res.err !== \"ok\") return null;\n    return res.data;\n}","import styled from 'styled-components';\n\nconst SFormField = styled.div`\n    margin-bottom: .5rem;\n    display: flex;\n\n    & label {\n        /* margin: .5rem; */\n        /* color: white; */\n        /* white-space: nowrap; */\n    }\n\n    & input {\n        box-shadow: 4px 4px 3px 0 #00000029;\n    }\n`;\n\nconst SFormInputLabel = styled.label`\n    white-space: nowrap;\n    color: var(--offHoverColor);\n\n    &.required::after {\n        content: '*';\n        color: var(--redColor);\n    }\n`;\n\nexport const Label = ({ required, id, labelText }) =>\n    <SFormInputLabel className={required ? 'required' : ''} htmlFor={id} > {labelText} </SFormInputLabel>\n\nexport default function Input({ index, id, type = \"text\", name, labelText, base, minLength, maxLength, list, min, max, required = true, hidden = false, placeholder = \"\" }) {\n    return hidden\n        ? <input type={type} value={base.value} name={name} hidden />\n        : (\n            <SFormField className={'form-floating form-field-' + index}>\n                <input\n                    className=\"form-control\"\n                    id={id}\n                    type={type}\n                    name={name}\n                    required={required}\n                    min={min}\n                    max={max}\n                    minLength={minLength}\n                    maxLength={maxLength}\n                    placeholder={placeholder}\n                    hidden={hidden}\n                    list={list}\n                    {...base}\n                />\n                <label htmlFor={id} placeholder={labelText}>{labelText}</label>\n            </SFormField>\n        )\n}","import styled from \"styled-components\"\n\nconst SSubmitBtn = styled.input`\n    width: 60%;\n    display: block;\n    margin: 1rem auto;\n    padding: 1rem;\n    border-radius: 5px;\n    border: none;\n    box-shadow: 2px 2px 2px 0 #00000061;\n    transition: var(--transitionApp);\n    cursor: pointer;\n\n    &:hover {\n        background: #002148;\n    }\n`;\n\nexport default function SubmitBtn({value, onClick}) {\n    return <SSubmitBtn className=\"btn btn-primary\" type=\"submit\" value={value} onClick={onClick} />\n}","import { RandomKey } from \"utils/content\";\n\nimport styled from \"styled-components\";\n\nconst SFilesPlash = styled.div`\n    position: absolute;\n    left: 0;\n    right: 0;\n    top: 100%;\n    background: #000000ad;\n    overflow: auto;\n    white-space: nowrap;\n`;\n\nconst SFileUploadWrapper = styled.div`\n    position: relative;\n    width:  4rem;\n    display: inline-block;\n    margin: .5rem;\n    padding: .5rem;\n    overflow: hidden;\n\n    & > * {\n        width: 100%;\n        color: var(--onHoverColor);\n    }\n`;\n\nconst SRemoveFile = styled.div`\n    position: absolute;\n    right: 0;\n    top: 0;\n    width: 1rem;\n    height: 1rem;\n    padding: 5px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: var(--redColor);\n    border-radius: 100%;\n    transition: var(--transitionApp);\n    cursor: pointer;\n\n    &:hover{\n        background: var(--darkRedColor);\n    }\n`;\n\nconst RenderUploadedFile = ({filename, src, removeFile}) => {\n    return (\n        <SFileUploadWrapper>\n            <SRemoveFile onClick={()=>removeFile(filename)}>\n                <i className=\"fa fa-times\" aria-hidden=\"true\"></i>\n            </SRemoveFile>\n\n            <img src={src} alt=\"uploaded img\" />\n            <div>{filename}</div>\n        </SFileUploadWrapper>\n    )\n}\n\nexport default function PreloadedFilesPlash({ preloadedFiles, removeFile = ()=>{}}) {\n    return (\n        <SFilesPlash>\n            {\n                preloadedFiles.map(\n                    file => <RenderUploadedFile key={RandomKey()} {...file} removeFile={filename => removeFile(filename)} />\n                )\n            }\n        </SFilesPlash>\n    )\n}","import { PreloadFile } from \"utils/file\";\nimport PreloadedFilesPlash from '../preloaded-files-plash/plash';\n\nimport styled from \"styled-components\";\n\nconst SClipItem = styled.div`\n    width: 3rem;\n    height: 3rem;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: ${props => props.color ? props.color : 'rgba(255, 255, 255, 0.38)'}; \n    border-radius: 50px;\n    cursor: pointer;\n\n    & img {\n        width: 80%;\n        height: 80%;\n    }\n\n    &:hover {\n        background: var(--purpleColor);\n    }\n`;\n\nconst ClipOneBtn = ({ color, alt, srcIcon, onClick }) => {\n    return (\n        <SClipItem color={color} onClick={onClick}>\n            <img src={srcIcon} alt={alt} />\n        </SClipItem>\n    )\n}\n\nexport default function ClipPlash({ preloadedFiles = [], setFiles = () => { } }) {\n    const addToPlash = (...files) => setFiles([...preloadedFiles, ...files]);\n    const removeFile = filename => setFiles(preloadedFiles.filter(file => file.filename !== filename))\n\n    const preloadedCB = (file, src, type) => {\n        addToPlash({\n            'type': type,\n            'file': file,\n            'src': src,\n            'filename': file.name,\n        });\n    }\n\n    return (\n        <>\n            <ClipOneBtn alt=\"clip\" srcIcon=\"/assets/app/send-gallery.png\" onClick={() => PreloadFile('image/*', preloadedCB)} />\n            <PreloadedFilesPlash preloadedFiles={preloadedFiles} removeFile={removeFile} />\n        </>\n    )\n}","import { RandomKey } from \"utils/content\";\nimport { PopupOpen } from \"../popup/popup\";\n\nimport styled from \"styled-components\";\n\nconst SFilesPlash = styled.div`\n    display: flex;\n    flex-wrap: wrap;\n    align-items: center;\n    background: #000000ad;\n`;\n\nconst SClippedFileWrapper = styled.div`\n    position: relative;\n    max-width:  ${props => props.size ? props.size : '15rem'};\n    width: max-content;\n    max-height: ${props => props.size ? props.size : '15rem'};\n    margin: .5rem;\n    padding: .5rem;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: 'space-between';\n    color: var(--onHoverColor);\n    /* background: #000000ad; */\n    border-radius: 10px;\n    cursor: pointer;\n    overflow: hidden;\n\n    & span {\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        padding: 5px;\n        background: #0f6dfb9e;\n    }\n`;\n\nconst SClippedFileSrc = styled.div`\n    width: 100%;\n    \n    & > * {\n        max-width: 100%;\n    }\n`;\n\nconst SRemoveFile = styled.div`\n    position: absolute;\n    right: 0;\n    top: 0;\n    width: 1rem;\n    height: 1rem;\n    padding: 5px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: var(--redColor);\n    border-radius: 100%;\n    transition: var(--transitionApp);\n    cursor: pointer;\n\n    &:hover{\n        background: var(--darkRedColor);\n    }\n`;\n\n\nconst RenderClippedFile = ({ id, filename, src, size, onClick = () => { }, removeFile }) => {\n    return (\n        <SClippedFileWrapper size={size} onClick={onClick} >\n            <SRemoveFile onClick={e => e.stopPropagation() || removeFile(id, src)}>\n                <i className=\"fa fa-times\" aria-hidden=\"true\"></i>\n            </SRemoveFile>\n\n            <SClippedFileSrc>\n                <img src={src} alt=\"uploaded img\" />\n            </SClippedFileSrc>\n            <span>{filename}</span>\n        </SClippedFileWrapper>\n    )\n}\n\nexport default function ClippedFiles({ files = [], removeFile}) {\n    return (\n        <SFilesPlash>\n            {\n                files?.map(\n                    file => <RenderClippedFile key={RandomKey()} {...file} \n                        onClick={e => e.preventDefault() || PopupOpen(RenderClippedFile, { ...file, 'size': '100%' })} \n                        removeFile={removeFile}\n                    />\n                )\n            }\n        </SFilesPlash>\n    )\n}","import { useCallback, useState } from \"react\";\n\nimport { CompareParams, GetValueFromListByIDAndInputValue, OnChangeTransitPoint } from \"utils/effects\";\nimport { POSTRequestWithParams } from \"utils/api\";\nimport { useInput } from \"utils/form\";\nimport { UploadFile } from \"utils/file\";\nimport { Notify } from \"components/app-notification/notification\";\nimport { ClosePopup, OnClosePopup } from \"components/popup/popup\";\nimport Input from \"components/form-input/input\";\nimport SubmitBtn from \"components/submit-btn/submit\";\nimport ClipPlash from \"components/clips/clips\";\nimport ClippedFiles from \"components/clipped-files-plash/plash\";\n\nimport styled from \"styled-components\";\n\nconst SParsel = styled.form`\n    padding: 1rem;\n    margin: 1rem;\n    min-width: 80vw;\n\n    & > div {\n        margin: 1rem;\n    }\n\n    & .transit_points,\n    & .price_weigth {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n\n        & > * {\n            flex-basis: 45%;\n        }\n    }\n\n    & .photos {\n        position: relative;\n        margin-bottom: 10rem;\n        padding: 1rem;\n        display: flex;\n        align-items: center;\n\n        &.clipped {\n            margin-bottom: 0;\n            flex-direction: column;\n            align-items: unset;\n        }\n    }\n\n    @media screen and (max-width: 600px) {\n        & .transit_points,\n        & .price_weigth {\n            align-items: unset;\n            flex-direction: column;\n        }\n    }\n`;\n\nconst removeFile = async (id, src, removePhoto) => {\n    const res = await POSTRequestWithParams(\"/r/image\", { 'id': id, 'src': src });\n    if (res?.err !== \"ok\") return Notify('fail', \"  ,  ,     \")\n    removePhoto(id);\n    return Notify('success', \" \")\n}\n\nconst clearAll = (fields = [], setHaveWhatsUp, setPreloaded) => {\n    fields.forEach(f => f.resetField());\n    setHaveWhatsUp(false);\n    setPreloaded([]);\n}\n\nconst uploadImages = (images = [], parselID) => {\n    if (!parselID) return;\n    images.forEach(img => UploadFile(img.type, img.file, \"parsel\", parselID))\n}\n\nexport default function ManageParsel(\n    { type = \"create\", cb, reloadCB = () => { }, failText = \"\", successText = \"\", data }\n) {\n    const weight = useInput(parseFloat(data?.weight) / 1000 || '');\n    const price = useInput(data?.price);\n    const description = useInput(data?.description);\n    const contactNumber = useInput(data?.contactNumber);\n    const from = useInput(data?.from);\n    const to = useInput(data?.to);\n    const fromID = useInput(data?.fromID);\n    const toID = useInput(data?.toID);\n    const [isHaveWhatsUp, setHaveWhatsUp] = useState(data?.isHaveWhatsUp === 1);\n\n    from.base.onChange = e => OnChangeTransitPoint(from, e, fromID.setCertainValue);\n    to.base.onChange = e => OnChangeTransitPoint(to, e, toID.setCertainValue);\n\n    const [photos, setPhotos] = useState(data?.photos);\n    const [preloadedFiles, setPreloaded] = useState([]);\n\n    const removePhoto = id => {\n        OnClosePopup(reloadCB);\n        setPhotos(photos.filter(ph => ph.id !== id))\n    }\n\n    const onSubmit = useCallback(async (e) => {\n        e.preventDefault();\n\n        const oldParams = {\n            'description': data?.description,\n            'fromID': data?.fromID,\n            'toID': data?.toID,\n            'from': data?.from,\n            'to': data?.to,\n            'weight': data?.weight,\n            'price': data?.price,\n            'contactNumber': data?.contactNumber,\n            'isHaveWhatsUp': data?.isHaveWhatsUp,\n        }\n        const comparedParams = CompareParams({\n            'id': data?.id,\n            'description': description.base.value,\n            'fromID': GetValueFromListByIDAndInputValue('from-list', from.base.value),\n            'toID': GetValueFromListByIDAndInputValue('to-list', to.base.value),\n            'from': from.base.value,\n            'to': to.base.value,\n            'weight': weight.base.value * 1000,\n            'price': price.base.value,\n            'contactNumber': contactNumber.base.value,\n            'isHaveWhatsUp': isHaveWhatsUp ? 1 : 0,\n        }, oldParams);\n\n        // if just added images\n        if (Object.values(comparedParams).length <= 1 && preloadedFiles.length > 0) {\n            OnClosePopup(reloadCB);\n            \n            // upload images\n            uploadImages(preloadedFiles, data?.id);\n            return ClosePopup();\n        }\n\n        // bcs we have id on new so <= 1\n        if (Object.values(comparedParams).length <= 1 && preloadedFiles.length === 0) return Notify('info', ' ');\n\n        // send to edit\n        const res = await POSTRequestWithParams(\"/\" + (type === \"create\" ? \"s\" : \"e\") + \"/parsel\", comparedParams);\n        if (res?.err !== \"ok\") return Notify('fail', failText + \":\" + res?.err);\n        Notify('success', successText);\n\n        // upload images\n        uploadImages(preloadedFiles, type === \"create\" ? res?.data : data?.id)\n\n        // do callback if edit\n        if (cb) {\n            // finally params will be\n            cb(Object.assign(oldParams, comparedParams));\n            ClosePopup();\n        } else {\n            // or clear all if create\n            const fields = [weight, price, description, contactNumber, from, to, fromID, toID];\n            clearAll(fields, setHaveWhatsUp, setPreloaded)\n        }\n    }, [description, from, to, fromID, toID, weight, price, contactNumber, isHaveWhatsUp, preloadedFiles, type, cb, reloadCB, failText, successText, data]);\n\n    return (\n        <SParsel onSubmit={onSubmit}>\n            <div className=\"transit_points\">\n                <Input id=\"from\" type=\"text\" name=\"from\" list=\"from-list\" base={from.base} labelText=\"\" />\n                <datalist id=\"from-list\"></datalist>\n\n                <Input id=\"to\" type=\"text\" name=\"to\" list=\"to-list\" base={to.base} labelText=\"\" />\n                <datalist id=\"to-list\"></datalist>\n            </div>\n\n            <div className=\"price_weigth\">\n                <Input type=\"number\" name=\"weight\" base={weight.base} labelText=\" ( )\" />\n                <Input type=\"number\" name=\"price\" base={price.base} labelText=\" ( )\" />\n            </div>\n\n            <div className=\"description\">\n                <textarea\n                    className=\"form-control\" {...description.base} required\n                    id=\"description\" name=\"description\" rows=\"3\" placeholder=\"  ,   , \"\n                ></textarea>\n            </div>\n\n            <Input type=\"tel\" name=\"contactNumber\" base={contactNumber.base} labelText=\" \" />\n\n            <div className=\"form-check\">\n                <label htmlFor=\"wp\" className=\"form-check-label\"></label>\n                <input id=\"wp\" className=\"form-check-input\" onChange={() => setHaveWhatsUp(!isHaveWhatsUp)} checked={isHaveWhatsUp} type=\"checkbox\" name=\"isHaveWhatsup\" />  WhatsUp?\n            </div>\n\n            {\n                type !== \"create\" && photos && photos.length > 0 &&\n                <div className=\"photos clipped\">\n                    <span>  ,     </span>\n                    <ClippedFiles files={photos} removeFile={(id, src) => removeFile(id, src, removePhoto)} />\n                </div>\n            }\n\n            <div className=\"photos\">\n                <span>  ,   {\"->\"}</span>\n                <ClipPlash setFiles={setPreloaded} preloadedFiles={preloadedFiles} />\n            </div>\n\n            <SubmitBtn value={type === \"create\" ? \"\" : \"\"} />\n        </SParsel >\n    )\n}","import { useCallback, useState } from \"react\";\n\nimport { CompareParams, GetValueFromListByIDAndInputValue, OnChangeTransitPoint } from \"utils/effects\";\nimport { POSTRequestWithParams } from \"utils/api\";\nimport { useInput } from \"utils/form\";\nimport { Notify } from \"components/app-notification/notification\";\nimport { ClosePopup } from \"components/popup/popup\";\nimport Input from \"components/form-input/input\";\nimport SubmitBtn from \"components/submit-btn/submit\";\n\nimport styled from \"styled-components\";\n\nconst STravel = styled.form`\n    padding: 1rem;\n    margin: 1rem;\n    min-width: 80vw;\n\n    & > div {\n        margin: 1rem;\n    }\n\n    & .transit_points {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n\n        & > * {\n            flex-basis: 45%;\n        }\n    }\n\n    & .travel_type {\n        display: flex;\n        align-items: center;\n        justify-content: space-evenly;\n\n        .travel_type-item {\n            width: 4rem;\n            height: 4rem;\n            padding: 1rem;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            font-size: 2rem;\n            color: white;\n            border: 1px solid;\n            border-radius: 50%;\n            transition: .5s;\n            cursor: pointer;\n            box-shadow: var(--boxShadow);\n\n            &.active,\n            &:hover{\n                background: #192955;\n            }\n        }\n    }\n\n    @media screen and (max-width: 600px) {\n        & .transit_points,\n        & .travelType_weigth {\n            align-items: unset;\n            flex-direction: column;\n        }\n    }\n`;\n\nconst clearAll = (fields = [], setHaveWhatsUp, setTravelType) => {\n    fields.forEach(f => f.resetField());\n    setHaveWhatsUp(false);\n    setTravelType(0);\n}\n\nconst defineTravelTypeByID = (travelTypeID) => {\n    if (travelTypeID === 1) return \"\";\n    if (travelTypeID === 2) return \"\";\n    if (travelTypeID === 3) return \"\";\n    if (travelTypeID === 4) return \"\";\n    return \"\"\n}\n\nexport default function ManageTraveler({ type = \"create\", cb, failText = \"\", successText = \"\", data }) {\n    const description = useInput(data?.description);\n    const contactNumber = useInput(data?.contactNumber);\n    const from = useInput(data?.from);\n    const to = useInput(data?.to);\n    const travelTypeID = useInput(data?.travelTypeID || 0);\n    const fromID = useInput(data?.fromID);\n    const toID = useInput(data?.toID);\n    const [isHaveWhatsUp, setHaveWhatsUp] = useState(data?.isHaveWhatsUp === 1);\n\n    const [travelType, setTravelType] = useState(data?.travelTypeID || 0);\n\n    from.base.onChange = e => OnChangeTransitPoint(from, e, fromID.setCertainValue);\n    to.base.onChange = e => OnChangeTransitPoint(to, e, toID.setCertainValue);\n\n    const onSubmit = useCallback(async (e) => {\n        e.preventDefault();\n\n        const oldParams = {\n            'travelTypeID': data?.travelTypeID,\n            'travelType': data?.travelType,\n            'fromID': data?.fromID,\n            'toID': data?.toID,\n            'from': data?.from,\n            'to': data?.to,\n            'description': data?.description,\n            'contactNumber': data?.contactNumber,\n            'isHaveWhatsUp': data?.isHaveWhatsUp,\n        }\n        const comparedParams = CompareParams({\n            'id': data?.id,\n            'travelTypeID': travelTypeID.base.value,\n            'travelType': defineTravelTypeByID(parseInt(travelTypeID.base.value)),\n            'fromID': GetValueFromListByIDAndInputValue('from-list', from.base.value),\n            'toID': GetValueFromListByIDAndInputValue('to-list', to.base.value),\n            'from': from.base.value,\n            'to': to.base.value,\n            'description': description.base.value,\n            'contactNumber': contactNumber.base.value,\n            'isHaveWhatsUp': isHaveWhatsUp ? 1 : 0,\n        }, oldParams);\n\n        // bcs we have id on new, so <= 1\n        if (Object.values(comparedParams).length <= 1) return Notify('info', ' ');\n\n        // send\n        const res = await POSTRequestWithParams(\"/\" + (type === \"create\" ? \"s\" : \"e\") + \"/travel\", comparedParams);\n        if (res?.err !== \"ok\") return Notify('fail', failText + \":\" + res?.err);\n        Notify('success', successText);\n\n        // do callback if edit\n        if (cb) {\n            // finally params will be\n            cb(Object.assign(oldParams, comparedParams));\n            ClosePopup()\n        } else {\n            // or clear all if create\n            const fields = [description, contactNumber, travelTypeID, from, to, fromID, toID];\n            clearAll(fields, setHaveWhatsUp, setTravelType)\n        }\n    }, [travelTypeID, from, to, fromID, toID, description, contactNumber, isHaveWhatsUp, type, cb, failText, successText, data]);\n\n    return (\n        <STravel onSubmit={onSubmit}>\n            <div className=\"transit_points\">\n                <Input id=\"from\" type=\"text\" name=\"from\" list=\"from-list\" base={from.base} labelText=\"\" />\n                <datalist id=\"from-list\"></datalist>\n\n                <Input id=\"to\" type=\"text\" name=\"to\" list=\"to-list\" base={to.base} labelText=\"\" />\n                <datalist id=\"to-list\"></datalist>\n            </div>\n\n            <div className=\"description\">\n                <textarea\n                    className=\"form-control\" {...description.base} required\n                    id=\"description\" name=\"description\" rows=\"3\" placeholder=\"  ,   ,    \"\n                ></textarea>\n            </div>\n\n            <div className=\"travel_type\">\n                <div className={`travel_type-item ${travelType === 1 ? \"active\" : \"\"}`} onClick={() => travelTypeID.setCertainValue(1) || setTravelType(1)}>\n                    <i className=\"fa fa-car\" aria-hidden=\"true\"></i>\n                </div>\n\n                <div className={`travel_type-item ${travelType === 2 ? \"active\" : \"\"}`} onClick={() => travelTypeID.setCertainValue(2) || setTravelType(2)}>\n                    <i className=\"fa fa-train\" aria-hidden=\"true\"></i>\n                </div>\n\n                <div className={`travel_type-item ${travelType === 3 ? \"active\" : \"\"}`} onClick={() => travelTypeID.setCertainValue(3) || setTravelType(3)}>\n                    <i className=\"fa fa-plane\" aria-hidden=\"true\"></i>\n                </div>\n\n                <div className={`travel_type-item ${travelType === 4 ? \"active\" : \"\"}`} onClick={() => travelTypeID.setCertainValue(4) || setTravelType(4)}>\n                    <i className=\"fa fa-ship\" aria-hidden=\"true\"></i>\n                </div>\n            </div>\n\n            <Input type=\"tel\" name=\"contactNumber\" base={contactNumber.base} labelText=\" \" />\n\n            <div className=\"form-check\">\n                <label htmlFor=\"wp\" className=\"form-check-label\"></label>\n                <input id=\"wp\" className=\"form-check-input\" onChange={() => setHaveWhatsUp(!isHaveWhatsUp)} checked={isHaveWhatsUp} type=\"checkbox\" name=\"isHaveWhatsup\" />  WhatsUp?\n            </div>\n            <SubmitBtn value={type === \"create\" ? \"\" : \"\"} />\n        </STravel>\n    )\n}","\nimport { useCallback, useEffect, useState } from \"react\";\n\nimport { GetDataByCrieteries, POSTRequestWithParams } from \"utils/api\";\nimport { useInput } from \"utils/form\";\nimport { RandomKey } from \"utils/content\";\nimport { Notify } from \"components/app-notification/notification\";\nimport Input from \"components/form-input/input\";\nimport SubmitBtn from \"components/submit-btn/submit\";\n\nimport styled from \"styled-components\";\n\nconst SToTopType = styled.div`\n    padding: 1rem;\n    margin: 1rem;\n`;\n\nconst SOneItem = styled.div`\n    padding: 1rem;\n    margin: 1rem;\n    display: flex;\n    flex-direction: column;\n    background: ${props => props.color ? props.color : 'var(--grayColor)'};\n    border-radius: 5px;\n    box-shadow: var(--boxShadow);\n    cursor: pointer;\n    transition: var(--transitionApp);\n\n    &:hover {\n        color: var(--onHoverColor);\n        background: var(--onHoverBG);\n    }\n\n    & b {\n        display: block;\n        padding: 5px;\n        margin: 5px;\n        color: var(--onHoverColor);\n        background: #c30000;\n        border-radius: 5px;\n        box-shadow: var(--boxShadow);\n    }\n`;\n\nconst toTopType = async (id, type, code, topID, cb) => {\n    const res = await POSTRequestWithParams(\"/e/toptype\", { 'id': id, 'type': type, 'code': code, 'topID': topID })\n    if (res.err && res.err !== \"ok\") return Notify('fail', '  ');\n    cb()\n}\n\nconst GOnePrice = ({ id, cost, name, color, setPayed, setTopTypeID }) => {\n    const onClick = () => {\n        setPayed(true);\n        setTopTypeID(id);\n    }\n\n    return (\n        <SOneItem color={color} onClick={onClick}>\n            <span>    <b> {name} </b></span>\n            <span>: <b> {cost}  </b></span>\n        </SOneItem>\n    )\n}\n\n/**\n * \n * @param type if cost will be relative by type: parsel or travel \n * @param cb callback after click to up\n * @param id parsel/travel id \n */\nexport default function ToTopType({ cb, type, id }) {\n    const [prices, setPrices] = useState();\n    const [isPayed, setPayed] = useState();\n    const [topTypeID, setTopTypeID] = useState();\n    const code = useInput('');\n\n    const getPrices = useCallback(async () => {\n        const res = await GetDataByCrieteries('toptypes');\n        if (res.err && res.err !== \"ok\") {\n            setPrices(null);\n            return Notify('fail', \".  \");\n        }\n        setPrices(res)\n    }, [])\n\n    useEffect(() => {\n        if (prices === undefined) return getPrices()\n    }, [getPrices, prices])\n\n\n    if (!prices) return <div>.  </div>\n    return (\n        <SToTopType>\n            {\n                isPayed\n                    ? <div>\n                        <Input index=\"2\" id=\"code\" type=\"text\" name=\"code\" base={code.base} labelText=\" 8- :\"\n                            minLength=\"8\" maxLength=\"8\" placeholder=\"Mfa7sd45\"\n                        />\n\n                        <SubmitBtn value=\"!\" onClick={() => toTopType(id, type, code, topTypeID, cb)} />\n                    </div>\n                    : <>\n                        <h2>      </h2>\n\n                        <div className=\"prices\">\n                            {prices?.map(p => <GOnePrice key={RandomKey()} {...p} setPayed={setPayed} setTopTypeID={setTopTypeID} />)}\n                        </div>\n                    </>\n            }\n        </SToTopType>\n    )\n}","import { POSTRequestWithParams } from \"utils/api\";\nimport { ClosePopup } from \"components/popup/popup\";\nimport { Notify } from \"components/app-notification/notification\";\n\nimport styled from \"styled-components\";\n\nconst SToUp = styled.div`\n    padding: 1rem;\n    margin: 1rem;\n\n    & .price {\n        color: red;\n        font-size: 1.3rem;\n        background: yellow;\n    }\n\n    & .answer {\n        display: flex;\n        align-items: center;\n        justify-content: space-evenly;\n\n        & span {\n            padding: .5rem 1rem;\n            margin: 1rem;\n            color: var(--onHoverColor);\n            background: var(--blueColor);\n            border-radius: 10px;\n            cursor: pointer;\n            transition: var(--transtionApp);\n\n            &:nth-child(2) {\n                background: red;\n            }\n\n            &:hover{\n                background: var(--onHoverBG);\n            }\n        }\n    }\n`;\n\nconst toUp = async (id, type, code, cb) => {\n    const res = await POSTRequestWithParams(\"/e/up\", { 'id': id, 'type': type, 'code': code })\n    if (res.err && res.err !== \"ok\") return Notify('fail', '  ');\n    cb()\n    ClosePopup();\n}\n\n/**\n * \n * @param type if cost will be relative by type: parsel or travel \n * @param cb callback after click to up\n * @param id parsel/travel id \n */\nexport default function ToUp({ cb, type, id }) {\n    return (\n        <SToUp>\n            <h2>  ?</h2>\n            <span>      </span>\n\n            <div className=\"answer\">\n                <span onClick={() => toUp(id, type, \"\", cb)}></span>\n                <span onClick={ClosePopup}></span>\n            </div>\n\n        \n        </SToUp>\n    )\n}","import { POSTRequestWithParams } from \"utils/api\";\nimport { ClosePopup } from \"components/popup/popup\";\nimport { Notify } from \"components/app-notification/notification\";\n\nimport styled from \"styled-components\";\n\nconst SToUp = styled.div`\n    padding: 1rem;\n    margin: 1rem;\n\n    & .price {\n        color: red;\n        font-size: 1.3rem;\n        background: yellow;\n    }\n\n    & .answer {\n        display: flex;\n        align-items: center;\n        justify-content: space-evenly;\n\n        & span {\n            padding: .5rem 1rem;\n            margin: 1rem;\n            color: var(--onHoverColor);\n            background: var(--blueColor);\n            border-radius: 10px;\n            cursor: pointer;\n            transition: var(--transtionApp);\n\n            &:nth-child(2) {\n                background: red;\n            }\n\n            &:hover{\n                background: var(--onHoverBG);\n            }\n        }\n    }\n`;\n\nconst toDelete = async (id, type, cb) => {\n    const res = await POSTRequestWithParams(\"/r/\" + (type === \"parsel\" ? \"parsel\" : 'travel'), { 'id': id })\n    if (res.err && res.err !== \"ok\") return Notify('fail', ' ');\n    cb()\n    ClosePopup();\n}\n\n/**\n * \n * @param type if cost will be relative by type: parsel or travel \n * @param cb callback after click to delete\n * @param id parsel/travel id \n */\nexport default function ToDelete({ cb, type, id }) {\n    return (\n        <SToUp>\n            <h2>  ?</h2>\n            <span>  </span>\n\n            <div className=\"answer\">\n                <span onClick={() => toDelete(id, type, cb)}></span>\n                <span onClick={ClosePopup}></span>\n            </div>\n        </SToUp>\n    )\n}","import { Notify } from \"components/app-notification/notification\";\nimport { PopupOpen } from \"components/popup/popup\";\nimport ManageParsel from \"components/parsel/manage/manage\";\nimport ManageTraveler from \"components/traveler/manage/manage\";\nimport ToTopType from \"components/to-toptype/toptype\";\nimport ToUp from \"components/to-up/up\";\nimport ToDelete from \"components/to-delete/delete\";\n\nimport { GetDataByCrieteries } from \"./api\";\n\n// just debounce\nexport function Debounce(fn, ms) {\n    let timeOut;\n    return (...args) => {\n        clearTimeout(timeOut);\n        timeOut = setTimeout(() => { fn(...args) }, ms)\n    }\n}\n\nexport const DbnceCities = Debounce(async(e) => {\n    const res = await GetDataByCrieteries(\"search\", { 'type': 'cities', 'q': e.target.value });\n    if (res.err) return Notify(\"fail\", \"   \");\n\n    const options = res.map(({ id, name }) => {\n        const op = document.createElement(\"option\");\n        op.value = name;\n        op.textContent = id;\n        return op;\n    })\n\n    const dt = document.getElementById(e.target.list.id);\n    if (!dt) return;\n    dt.innerHTML = \"\";\n    dt.append(...options);\n}, 500)\n\n// show & hide password by changing input type\nexport const ShowAndHidePassword = (e, passElem, passwordToggle) => {\n    const elem = e.target;\n    passwordToggle.toggleType();\n    elem.classList.toggle('fa-eye-slash');\n    if (passwordToggle.state === \"password\") passElem.setAttribute('type', 'text');\n    else passElem.setAttribute('type', 'password');\n}\n\n/**\n * for lazy load and keeping focus with scrolling\n * @param e event\n * @param childrenClass get parent by childs classnames\n * @param isStopLoad stop load or no\n * @param isScrollingToTop load on scroll to top or bottom\n * @param loadCallback what do after react edge\n */\nexport const ScrollHandler = Debounce(async(e, isStopLoad, isScrollingToTop = false, loadCallback = async() => {}, childrenClass) => {\n    if (isStopLoad) return;\n\n    let parent;\n    let treshhold;\n    let position;\n\n    if (childrenClass) {\n        // relatively on body\n        const children = document.getElementsByClassName(childrenClass);\n        if (!children || !children[0]) return;\n        parent = children[0].parentNode;\n        position = window.scrollY;\n        if (isScrollingToTop) treshhold = Math.round((document.body.offsetHeight - window.innerHeight) * .25);\n        else treshhold = Math.round((document.body.offsetHeight - window.innerHeight) * .75);\n    } else {\n        // or relatively on element\n        parent = e.target;\n        const pRec = parent.getBoundingClientRect();\n        position = parent.scrollTop;\n        if (isScrollingToTop) treshhold = Math.round((parent.scrollHeight - pRec.height) * .25);\n        else treshhold = Math.round((parent.scrollHeight - pRec.height) * .75);\n    }\n\n    if (\n        (isScrollingToTop && position <= treshhold) || (!isScrollingToTop && position >= treshhold)\n    ) {\n        const priorEdgeChildNum = isScrollingToTop ? 0 : parent.childElementCount - 1;\n\n        if (await loadCallback()) {\n            setTimeout(() => {\n                // smooth scroll\n                const el = parent.childNodes[priorEdgeChildNum];\n                if (el) el.scrollIntoView({ behavior: \"smooth\" });\n            }, 100);\n        }\n    }\n}, 100);\n\nexport const EditItem = async(type, data, cb, reloadCB) =>\n    PopupOpen(type === \"parsel\" ? ManageParsel : ManageTraveler, { 'cb': cb, 'data': data, 'type': 'edit', 'reloadCB': reloadCB })\n\nexport const RemoveItem = async(id, type, cb) => PopupOpen(ToDelete, { 'cb': cb, \"type\": type, 'id': id })\n\nexport const TopItem = async(id, type, cb) => PopupOpen(ToUp, { 'cb': cb, \"type\": type, 'id': id })\n\nexport const PaintItem = async(id, type, cb) => PopupOpen(ToTopType, { 'cb': cb, \"type\": type, 'id': id })\n\nconst removeEmptyFields = (obj = {}) => {\n    for (let [k, v] of Object.entries(obj)) {\n        if (v === 0) continue\n        if (v === \"\" || !v) delete obj[k];\n    }\n    return obj\n}\n\nexport const CompareParams = (newParams, currentParams) => {\n    const res = {};\n    newParams = removeEmptyFields(newParams);\n    for (let [k, v] of Object.entries(newParams)) {\n        if (newParams[k] !== currentParams[k]) {\n            res[k] = v;\n        }\n    }\n    return res;\n}\n\nexport const GetValueFromListByIDAndInputValue = (listID, inputValue) => {\n    const list = document.getElementById(listID);\n    if (!list) return;\n    const dt = Array.from(list.childNodes)\n    const op = dt.find(option => option.value.includes(inputValue));\n    if (op) return op.textContent;\n}\n\nexport const OnChangeTransitPoint = async(point, e) => {\n    point.setCertainValue(e.target.value);\n    DbnceCities(e);\n}","import { useCallback, useState } from \"react\";\n\nimport { Notify } from \"components/app-notification/notification\";\n\nimport { GetDataByCrieteries } from \"./api\";\n\n// for lazy load\nexport const useFromTo = (initState = [], step = 10) => {\n    const [fromToState, setFromToState] = useState({\n        'start': 0,\n        'isStopLoad': false,\n        'isLoaded': false,\n        'datalist': initState,\n    });\n\n    const setDataList = state => setFromToState(Object.assign({}, fromToState, { 'datalist': state }));\n\n    const getPart = useCallback(async(getWhat = \"\", params = {}, failText = \"\", isAppToEnd = true, isNeedClear = false) => {\n        if (getWhat === \"\" || failText === \"\") return Notify('fail', failText);\n\n        const res = await GetDataByCrieteries(getWhat, {\n            ...params,\n            'from': isNeedClear ? 0 : fromToState.start,\n            'step': step\n        });\n\n        if (res.err && res.err !== 'ok') {\n            fromToState.isStopLoad = true;\n            fromToState.isLoaded = true;\n            setFromToState(Object.assign({}, fromToState));\n            return Notify('fail', failText + \" : \" + res.err);\n        }\n\n        if (!fromToState.isLoaded) fromToState.isLoaded = true;\n        if (isNeedClear) {\n            fromToState.start = 0;\n            fromToState.datalist = res;\n            fromToState.isStopLoad = false;\n        } else if (isAppToEnd) fromToState.datalist = [...fromToState.datalist, ...res];\n        else fromToState.datalist = [...res, ...fromToState.datalist];\n\n        if (res.length < step) fromToState.isStopLoad = true;\n        else fromToState.start += step;\n\n        setFromToState(Object.assign({}, fromToState));\n        return fromToState.datalist;\n    }, [fromToState, step])\n\n    const zeroState = async() => setFromToState({\n        'start': 0,\n        'isStopLoad': false,\n        'isLoaded': false,\n        'datalist': initState,\n    });\n\n    return {\n        'datalist': fromToState.datalist,\n        'isStopLoad': fromToState.isStopLoad,\n        'isLoaded': fromToState.isLoaded,\n        setDataList,\n        getPart,\n        zeroState,\n    }\n}","import { useCallback, useEffect, useState } from \"react\";\n\nimport { GetDataByCrieteries } from \"utils/api\";\nimport { RandomKey } from \"utils/content\";\nimport { EditItem, PaintItem, RemoveItem, TopItem } from \"utils/effects\";\nimport { Notify } from \"components/app-notification/notification\";\n\nimport styled from \"styled-components\"\n\nconst SParsel = styled.div`\n    position: relative;\n    padding: 1rem;\n    margin: 1rem;\n    min-height: 30vh;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    background: ${props => props.color ? props.color : '#ffffff94'};\n    border-radius: 10px;\n    box-shadow: var(--boxShadow);\n\n    & .info {\n        display: flex;\n        justify-content: space-between;\n\n        & .general_info {\n            display: flex;\n            flex-direction: column;\n            flex-basis: 70%;\n\n            & span {\n                word-break: break-word;\n            }\n\n            & .price b {\n                text-decoration: underline;\n            }\n        }\n\n        & .other_info  {\n            & .phones > * {\n                margin: .5rem;\n                padding: .5rem;\n                font-size: 4rem;\n                border-radius: 10px;\n                cursor: pointer;\n                transition: var(--transitionApp);\n\n                &:hover {\n                    color: var(--onHoverColor);\n                    background: var(--blueColor);\n                }\n            }\n\n            & .expire {\n                margin: .5rem;\n            }\n        }\n    }\n\n    & .photos {\n        display: flex;\n        flex-wrap: wrap;\n\n        & span {\n            max-width: 20vw;\n            display: block;\n            align-self: end;\n            margin: 5px;\n            border-radius: 5px;\n            background: #000000a3;\n\n            & img {\n                width: 100%;\n            }\n        }\n    }\n\n    & .manage {\n        position: absolute;\n        right: 0;\n        top: 0;\n        padding: .5rem;\n        margin: .5rem;    \n        background: #2f3a64;\n        color: var(--onHoverColor);\n        font-size: 1rem;\n        border-radius: 5px;\n\n        & .manage-action {\n            cursor: pointer;\n            margin: .5rem;\n            transition: var(--transitionApp);\n            text-align: right;\n            vertical-align: middle;\n            \n            &:hover {\n                background: var(--darkGreyColor);\n            }\n        }\n\n        & .manage-actions {\n            display: flex;\n            flex-direction: column;\n        }\n    }\n\n    @media screen and (max-width: 600px) {\n        & .info {\n            flex-direction: column;\n\n            & .phones {\n                display: flex;\n                align-items: center;\n                justify-content: space-evenly;\n            }\n        }\n\n        & .manage {\n            font-size: 1.5rem;\n        }\n    }\n`;\n\n// Paint\n// <span className=\"manage-action\" onClick={() => PaintItem(data.id, \"parsel\", newData => changeItem(data.id, Object.assign({}, data, newData)))}>\n//     <i className=\"fa fa-paint-brush\" aria-hidden=\"true\"></i>\n// </span>\n\nexport default function Parsel({ data, isMy = false, changeItem, removeItem, reloadItem }) {\n    const [photos, setPhotos] = useState();\n    const [isOpened, setOpened] = useState(false);\n\n    const getPhotos = useCallback(async () => {\n        const res = await GetDataByCrieteries(\"images\", { \"id\": data.id });\n        if (res?.err === \"/\") return setPhotos(null);\n        if (res.err && res.err !== \"ok\") return Notify('fail', \"    \");\n        return setPhotos(res?.data || res);\n    }, [data]);\n\n    useEffect(() => {\n        if (photos === undefined) return getPhotos()\n    }, [getPhotos, photos])\n\n    return (\n        <SParsel className=\"parsel\" color={data.color}>\n            <div className=\"info\">\n                <div className=\"general_info\">\n                    <span>: {data.nickname}</span>\n                    <span>{data.from}-{data.to}</span>\n                    <span>{data.title}</span>\n                    <span>: {data.weight / 1000} </span>\n                    <span className=\"price\">: <b> {data.price} </b> </span>\n                    <span>: {data.description}</span>\n                </div>\n\n                <div className=\"other_info\">\n                    <div className=\"phones\">\n                        {\n                            data.isHaveWhatsUp === 1 &&\n                            <a target=\"_blank\" rel=\"noreferrer\" href={`https://api.whatsapp.com/send?phone=${data.contactNumber}&text=\" ,    Al-Ber   : ${data.title}\"`}>\n                                <i className=\"fa fa-whatsapp\" aria-hidden=\"true\"></i>\n                            </a>\n                        }\n\n                        <span onClick={() => window.open(\"tel:\" + data.contactNumber)}>\n                            <i className=\"fa fa-phone\" aria-hidden=\"true\"></i>\n                        </span>\n                    </div>\n                </div>\n            </div>\n\n            {\n                photos\n                    ? <div className=\"photos\">\n                        {photos?.map(({ src }) => <span key={RandomKey()}><img src={src} alt=\"\" /></span>)}\n                    </div>\n                    : <div className=\"photos\">  </div>\n            }\n\n            {\n                isMy &&\n                <div className=\"manage\">\n                    <div className=\"manage-action\" onClick={() => setOpened(!isOpened)}>\n                        <span></span>\n                    </div>\n\n                    {\n                        isOpened &&\n                        <div className=\"manage-actions\">\n                            <span className=\"manage-action\"\n                                onClick={() => EditItem(\"parsel\", { ...data, 'photos': photos }, newData => changeItem(data.id, newData), reloadItem)}\n                            >\n                                <i className=\"fa fa-pencil\" aria-hidden=\"true\"></i>\n                            </span>\n                            <span className=\"manage-action\" onClick={() => RemoveItem(data.id, \"parsel\", () => removeItem(data.id))}>\n                                <i className=\"fa fa-trash\" aria-hidden=\"true\"></i>\n                            </span>\n\n                            <span className=\"manage-action\" onClick={() => TopItem(data.id, \"parsel\", newData => changeItem(data.id, Object.assign({}, data, newData)))}>\n                                <i className=\"fa fa-level-up\" aria-hidden=\"true\"></i>\n                            </span>\n                        </div>\n                    }\n                </div>\n            }\n        </SParsel>\n    )\n}","import { useState } from \"react\";\n\nimport { EditItem, PaintItem, RemoveItem, TopItem } from \"utils/effects\";\n\nimport styled from \"styled-components\";\n\nconst STraveler = styled.div`\n    position: relative;\n    padding: 1rem;\n    margin: 1rem;\n    min-height: 30vh;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    background: ${props => props.color ? props.color : '#ffffff94'};\n    border-radius: 10px;\n\n    & .info {\n        display: flex;\n        justify-content: space-between;\n\n        & .general_info {\n            display: flex;\n\n            & span {\n                word-break: break-word;\n            }\n\n            & div {\n                display: flex;\n                flex-direction: column;\n                margin: 1rem;\n            }\n\n            & .weigth b {\n                text-decoration: underline;\n            }\n        }\n\n        & .other_info  {\n            & .phones > * {\n                margin: .5rem;\n                padding: .5rem;\n                font-size: 4rem;\n                border-radius: 10px;\n                cursor: pointer;\n                transition: var(--transitionApp);\n\n                &:hover {\n                    color: var(--onHoverColor);\n                    background: var(--blueColor);\n                }\n            }\n        }\n    }\n\n    & .manage {\n        position: absolute;\n        right: 0;\n        top: 0;\n        padding: .5rem;\n        margin: .5rem;    \n        background: #2f3a64;\n        color: var(--onHoverColor);\n        font-size: 1rem;\n        border-radius: 5px;\n\n        & .manage-action {\n            cursor: pointer;\n            margin: .5rem;\n            transition: var(--transitionApp);\n            text-align: right;\n            vertical-align: middle;\n            \n            &:hover {\n                background: var(--darkGreyColor);\n            }\n        }\n\n        & .manage-actions {\n            display: flex;\n            flex-direction: column;\n        }\n    }\n\n    @media screen and (max-width: 600px) {\n        & .info {\n            flex-direction: column;\n\n            & .general_info {\n                flex-direction: column;\n            }\n\n            & .phones {\n                display: flex;\n                align-items: center;\n                justify-content: space-evenly;\n            }\n        }\n\n        & .manage {\n            font-size: 1.5rem;\n        }\n    }\n`;\n\n// paint\n// <span className=\"manage-action\" onClick={() => PaintItem(data.id, \"traveler\", newData => changeItem(data.id, Object.assign({}, data, newData)))}>\n//     <i className=\"fa fa-paint-brush\" aria-hidden=\"true\"></i>\n// </span>\n\nexport default function Traveler({ data, isMy = false, changeItem, removeItem }) {\n    const [isOpened, setOpened] = useState(false);\n\n    return (\n        <STraveler className=\"traveler\" color={data.color}>\n            <div className=\"info\">\n                <div className=\"general_info\">\n                    <div className=\"common\">\n                        <span>: {data.nickname}</span>\n                        <span>{data.from}-{data.to}</span>\n                        <span> : {data.travelType}</span>\n                        <span>: {data.description}</span>\n                    </div>\n                </div>\n\n                <div className=\"other_info\">\n                    <div className=\"phones\">\n                        {\n                            data.isHaveWhatsUp === 1 &&\n                            <a target=\"_blank\" rel=\"noreferrer\" href={`https://api.whatsapp.com/send?phone=${data.contactNumber}&text=\" ,    Al-Ber   \"`}>\n                                <i className=\"fa fa-whatsapp\" aria-hidden=\"true\"></i>\n                            </a>\n                        }\n\n                        <span onClick={() => window.open(\"tel:\" + data.contactNumber)}>\n                            <i className=\"fa fa-phone\" aria-hidden=\"true\"></i>\n                        </span>\n                    </div>\n\n                </div>\n            </div>\n\n            {\n                isMy &&\n                <div className=\"manage\">\n                    <div className=\"manage-action\" onClick={() => setOpened(!isOpened)}>\n                        <span></span>\n                    </div>\n\n                    {\n                        isOpened &&\n                        <div className=\"manage-actions\">\n                            <span className=\"manage-action\"\n                                onClick={\n                                    () =>\n                                        EditItem(\n                                            \"traveler\",\n                                            data,\n                                            newData => changeItem(data.id, newData)\n                                        )\n                                }\n                            >\n                                <i className=\"fa fa-pencil\" aria-hidden=\"true\"></i>\n                            </span>\n                            <span className=\"manage-action\" onClick={() => RemoveItem(data.id, \"traveler\", () => removeItem(data.id))}>\n                                <i className=\"fa fa-trash\" aria-hidden=\"true\"></i>\n                            </span>\n\n                            <span className=\"manage-action\" onClick={() => TopItem(data.id, \"traveler\", newData => changeItem(data.id, Object.assign({}, data, newData)))}>\n                                <i className=\"fa fa-level-up\" aria-hidden=\"true\"></i>\n                            </span>\n                        </div>\n                    }\n                </div>\n            }\n        </STraveler>\n    )\n}","import { useEffect, useState } from \"react\";\n\nimport { ScrollHandler } from \"utils/effects\";\nimport { useFromTo } from \"utils/hooks\";\nimport { RandomKey } from \"utils/content\";\nimport Parsel from \"components/parsel/parsel\";\nimport Traveler from \"components/traveler/traveler\";\n\nimport styled from \"styled-components\";\n\nconst SHistory = styled.section`\n    padding: 1rem 0;\n    height: 100%;\n\n    & .history-tabs {\n        display: flex;\n        align-items: center;\n\n        & span {\n            margin: .5rem;\n            padding: 1rem;\n            color: var(--onHoverColor);\n            border-radius: 10px;\n            transition: var(--transitionApp);\n            cursor: pointer;\n\n            &.active,\n            &:hover {\n                background: var(--blueColor);\n            }\n        }\n    }\n\n    & .history {\n        height: 70%;\n        overflow: auto;\n        border-radius: 10px;\n        background: var(--offHoverBG);\n    }\n`\n\nconst loadHistory = (getType, getTypeOnRus, getPart) => getPart(getType, { 'type': 'user' }, '   ' + getTypeOnRus)\n\nconst configHistoryParams = tab => {\n    if (tab === 0) return ['parsels', '', Parsel];\n    return ['travelers', '', Traveler]\n}\n\nexport default function History() {\n    const [tab, setTab] = useState(0);\n    const [isReload, setReload] = useState(0);\n    const { datalist, isStopLoad, isLoaded, getPart, zeroState, setDataList } = useFromTo()\n\n    const [getType, getTypeOnRus, Item] = configHistoryParams(tab);\n\n    const changeItem = (id, newData) => {\n        const index = datalist.findIndex(d => d.id === id)\n        datalist[index] = newData\n        setDataList([...datalist]);\n    }\n\n    const reloadItem = () => {\n        setReload(true);\n        setTimeout(() => {\n            setReload(false);    \n        }, 50);\n    }\n\n    const removeItem = id => setDataList([...datalist.filter(d => d.id !== id)]);\n\n\n    useEffect(() => {\n        if (datalist.length === 0 && !isLoaded) {\n            loadHistory(getType, getTypeOnRus, getPart)\n        }\n    }, [datalist, isLoaded, getType, getTypeOnRus, tab, getPart, zeroState]);\n\n    return (\n        <SHistory>\n            <div className=\"history-tabs\">\n                <span className={tab === 0 ? 'active' : ''} onClick={() => setTab(0) || zeroState()}> </span>\n                <span className={tab === 1 ? 'active' : ''} onClick={() => setTab(1) || zeroState()}> </span>\n            </div>\n\n            {\n                datalist.length > 0\n                    ? <div className=\"history\" onScroll={e => ScrollHandler(e, isStopLoad, false, () => loadHistory(getType, getTypeOnRus, getPart))}>\n                        {datalist.map(d => <Item key={RandomKey()} data={d} isMy={true} changeItem={changeItem} removeItem={removeItem} reloadItem={reloadItem} />)}\n                    </div>\n                    : <div className=\"history\"></div>\n            }\n        </SHistory>\n\n    )\n}","import { RandomKey } from \"utils/content\";\n\nimport styled from \"styled-components\";\n\nconst SLalel = styled.label`\n    display: flex;\n    align-items: center;\n    white-space: nowrap;\n\n    & span {\n        color: white;\n    }\n\n    & select {\n        margin-left: 1rem;\n    }\n`;\nexport default function Select({ name, text, required = true, options, onChange }) {\n    return (\n        <SLalel>\n            <span>{text}</span>\n            <select className=\"form-select\" name={name} value={options.selected} required={required} onChange={onChange}>\n                {options?.data?.map((opt) => <option key={RandomKey()} value={opt[options.value]}>{options.makeText(opt)}</option>)}\n            </select>\n        </SLalel>\n    )\n}","import { useCallback, useEffect, useState } from \"react\";\n\nimport { GetDataByCrieteries } from \"utils/api\";\nimport Input from \"components/form-input/input\";\nimport Select from \"components/form-select/select\";\n\nexport default function PhoneField({ index, base, required }) {\n    const [codes, setCodes] = useState();\n\n    const getCodes = useCallback(async () => {\n        const res = await GetDataByCrieteries('countryCodes');\n        if (res.err && res?.err !== \"ok\") return setCodes(null);\n        return setCodes(res)\n    }, [])\n\n    useEffect(() => {\n        if (codes === undefined) return getCodes()\n    }, [getCodes, codes])\n\n\n    if (!codes) return <div></div>;\n    return (\n        <div>\n            <Input index={index} id=\"phone\" type=\"number\" name=\"phone\" base={base} labelText=\":\"\n                minLength=\"10\" maxLength=\"15\" placeholder=\"7777777777\" required={required}\n            />\n\n            <Select text=\" :\" name=\"countryCode\" required={required} options={{\n                data: codes,\n                value: \"code\",\n                makeText: ({code, country}) => `${code} (${country})`\n            }} />\n        </div>\n    )\n}","import { ShowAndHidePassword } from 'utils/effects';\nimport Input from '../form-input/input';\n\nimport styled from 'styled-components';\n\nconst SPasswordWrapper = styled.div`\n    display: flex;\n    align-items: center;\n    cursor: pointer;\n\n    & input {\n        flex-grow: 1;\n    }\n\n    & i {\n        margin-left: 1rem;\n        padding: 5px;\n        border-radius: 5px;\n        box-shadow: 2px 2px 2px 0 #00000061;\n    }\n`;\n\nexport default function PasswordField({ index, id, required, hidden = false, labelText, placeholder, pass, passToggle }) {\n    return (\n        <SPasswordWrapper>\n            <Input index={index} id={id} type=\"password\" name=\"password\" base={pass.base} required={required}\n                minLength=\"8\" maxLength=\"30\" placeholder={placeholder} labelText={labelText} hidden={hidden}\n            />\n\n            {\n                !hidden &&\n                <i className=\"btn btn-primary fa fa-eye fa-eye-slash\"\n                    aria-hidden=\"true\"\n                    title=\"show/hide password\"\n                    onClick={e => {\n                        ShowAndHidePassword(e, document.getElementById(id), passToggle);\n                    }}\n                ></i>\n            }\n        </SPasswordWrapper>\n    )\n}","import { useState } from \"react\";\n\nimport { USER } from \"constants/constants\";\nimport { SubmitFormData, useInput, useTogglePassword } from \"utils/form\";\nimport { UserOnline } from \"utils/user\";\nimport { Notify } from \"components/app-notification/notification\";\nimport PhoneField from \"components/phone-field/field\";\nimport SubmitBtn from \"components/submit-btn/submit\";\nimport Input from \"components/form-input/input\";\nimport PasswordField from \"components/password-field/password\";\n\nimport styled from \"styled-components\";\nimport { ClosePopup } from \"components/popup/popup\";\n\nlet afterStyles = [];\n\nconst SForms = styled.form`\n    padding: 2rem;\n\n    & > * {\n        margin: 1rem auto;\n    }\n`;\n\nexport default function EditProfile() {\n    const nickname = useInput('');\n    const phone = useInput('');\n    const pass = useInput('');\n    const passToggle = useTogglePassword()\n    const code = useInput('');\n    const [step, setStep] = useState(1);\n\n    const fields = [phone, nickname, pass, code]; // fields for reset\n\n    const onSuccessStep1 = (data) => {\n        Notify('success', \"    \" + data?.login + \".    \")\n        if (data.newPhone) phone.setCertainValue(data.newPhone);\n        setStep(2);\n    }\n    const onSuccessStep2 = () => {\n        UserOnline(USER.id)\n        Notify('success', `    .      `)\n        ClosePopup();\n    }\n    const check = () => {\n        if (nickname.base.value + pass.base.value + phone.base.value === \"\") return ClosePopup();\n        return true\n    }\n    const onFail = err => Notify('fail', ' :' + err);\n\n    return (\n        step === 1\n            ? <SForms action=\"/e/user/confirm\" onSubmit={async (e) => {\n                if (!check()) return;\n                afterStyles = await SubmitFormData(e, afterStyles, fields, undefined, onSuccessStep1, onFail, false);\n            }}>\n                <h3> ( 1).   ,   </h3>\n\n                <PhoneField index=\"0\" base={phone.base} required={false} />\n\n                <Input index=\"1\" id=\"nickname\" type=\"text\" name=\"nickname\" base={nickname.base} labelText=\"():\"\n                    minLength=\"3\" maxLength=\"20\" placeholder={USER.nickname} required={false}\n                />\n                <PasswordField index=\"2\" id=\"password\" name=\"password\" labelText=\":\"\n                    placeholder=\"User1234\" pass={pass} passToggle={passToggle} required={false}\n                />\n\n                <SubmitBtn value=\"!\" />\n            </SForms>\n\n            : <SForms action=\"/e/user\" onSubmit={async (e) => {\n                afterStyles = await SubmitFormData(e, afterStyles, fields, undefined, onSuccessStep2, onFail);\n            }}>\n                <h3> ( 2)</h3>\n\n                <input hidden type=\"tel\" name=\"phone\" {...phone.base} />\n                <input hidden type=\"text\" name=\"nickname\" {...nickname.base} />\n                <input hidden type=\"password\" name=\"password\" {...pass.base} />\n\n                <Input index=\"3\" id=\"code\" type=\"text\" name=\"code\" base={code.base} labelText=\"6- :\"\n                    minLength=\"6\" maxLength=\"6\" placeholder=\"123456\"\n                />\n\n                <SubmitBtn value=\"!\" />\n            </SForms>\n    )\n}","import { useState } from 'react';\nimport { NavLink, useHistory } from 'react-router-dom';\n\nimport { USER } from 'constants/constants';\nimport { SignOut } from 'utils/user';\nimport { PopupOpen } from 'components/popup/popup';\n\nimport History from './history/history';\nimport EditProfile from './edit-profile/profile';\nimport styled from 'styled-components';\n\nconst SAside = styled.aside`\n    grid-area: aside;\n    position: fixed;\n    left: 100vw;\n    padding: 1rem;\n    width: 85vw;\n    height: 100vh;\n    background: #2b2b2be0;\n    transition: var(--transitionApp);\n    z-index: 10;\n    opacity: .9;\n\n    &.open {\n        transform: translate(-85vw);\n    }\n\n    & .open-btn {\n        position: absolute;\n        right: 100%;\n        top: 75%;\n        padding: 1rem;\n        border-radius: 5px;\n        font-size: 1.5rem;\n        color: white;\n        background:var(--blueColor);\n        z-index: 15;\n        cursor: pointer;\n    }\n\n    & .menu {\n        height: 65%;\n\n        .menu-items > span {\n            margin: .5rem;\n            padding: 1rem;\n            color: var(--onHoverColor);\n            border-radius: 10px;\n            transition: var(--transitionApp);\n            cursor: pointer;\n\n            &.active,\n            &:hover {\n                background: var(--blueColor);\n            }\n        }\n\n        .links {\n            display: flex;\n            flex-direction: column;\n            margin: 2rem 0;\n        }\n\n        .links a {\n            padding: 1rem;\n            margin-bottom: 1rem;\n            font-weight: bold;\n            text-decoration: none;\n            background: white;\n            border-radius: 10px;\n            transition: .5s;\n\n            &:hover,\n            &.active {\n                background: #193162;\n                color: white;\n            }\n        }\n    }\n`\n\nconst SUser = styled.div`\n    margin: 1rem;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    height: 20%;\n\n    & > * {\n        display: flex;\n        align-items: center;\n    }\n`\n\nconst SLogo = styled.div`\n    margin: auto;\n    width: 10rem;\n    height: 15%;\n    display: block;\n    overflow: hidden;\n    transition: var(--transitionApp);\n\n    &:hover {\n        filter: brightness(0.5);\n    }\n\n    & img {\n        height: 100%;\n        width: 100%;\n    }\n`\n\nconst SNickname = styled.div`\n    margin: .5rem;\n    padding: .5rem;\n    width: max-content;\n    max-width: 100%;\n    text-transform: uppercase;\n    font-weight: bold;\n    text-align: center;\n    word-break: break-word;\n    background: var(--onHoverColor);\n    border-radius: 5px;\n    transition: var(--transitionApp);\n\n    & > i {\n        margin: 5px;\n    }\n\n    &.nickname {\n        width: 100%;\n    }\n`\n\nconst SLogout = styled(SNickname)`\n    color: var(--redColor);\n    cursor: pointer;\n\n    &:hover {\n        background: var(--redColor);\n        color: var(--onHoverColor);\n    }\n`\n\nconst SEdit = styled(SNickname)`\n    cursor: pointer;\n\n    &:hover {\n        background: var(--redColor);\n        color: var(--onHoverColor);\n    }\n`;\n\nexport default function Aside() {\n    const [isOpened, setOpened] = useState(false);\n    const [tab, setTab] = useState(0);\n    const history = useHistory();\n\n    return (\n        <SAside className={isOpened ? \"open\" : \"\"}>\n            <div className=\"open-btn\" onClick={() => setOpened(!isOpened)}>\n                <i className=\"fa fa-bars\" aria-hidden=\"true\"></i>\n            </div>\n\n            {\n                isOpened &&\n                <>\n                    <SLogo as={NavLink} to=\"/\" >\n                        <img src=\"/assets/app/logo.png\" alt=\"logo\" />\n                    </SLogo>\n\n                    <SUser>\n                        {\n                            USER.status === \"online\"\n                                ? <div>\n                                    <SNickname className=\"nickname\">\n                                        <i className=\"fa fa-user\" aria-hidden=\"true\"></i>\n                                        <span>{USER.nickname} ({USER.phoneNumber})</span>\n                                    </SNickname>\n                                    <SEdit onClick={() => PopupOpen(EditProfile, {})}>\n                                        <i className=\"fa fa-pencil\" aria-hidden=\"true\"></i>\n                                    </SEdit>\n                                </div>\n                                : <SNickname>   </SNickname>\n                        }\n\n                        {\n                            USER.status === \"online\"\n                                ? <SLogout onClick={() => SignOut(history)}>\n                                    <i className=\"fa fa-sign-out\" aria-hidden=\"true\"></i>\n                                    \n                                </SLogout>\n                                : <SLogout onClick={() => history.push(\"/sign\")}>\n                                    <i className=\"fa fa-sign-in\" aria-hidden=\"true\"></i>\n                                    \n                                </SLogout>\n                        }\n                    </SUser>\n\n                    <div className=\"menu\">\n                        <div className=\"menu-items\">\n                            <span className={tab === 0 ? 'active' : ''} onClick={() => setTab(0)}></span>\n\n                            {USER.status === \"online\" && <span className={tab === 1 ? 'active' : ''} onClick={() => setTab(1)}> </span>}\n\n                        </div>\n                        {\n                            USER.status === \"online\" && tab === 1\n                                ? <History />\n                                : <div className=\"links\">\n                                    <NavLink to=\"/faq\">  </NavLink>\n                                    <NavLink to=\"/contacts\"></NavLink>\n                                    {USER.isAdmin && <NavLink to=\"/admin\"></NavLink>}\n                                </div>\n                        }\n                    </div>\n                </>\n            }\n        </SAside>\n    )\n}","import { NavLink } from 'react-router-dom';\n\nimport styled from 'styled-components';\n\nconst SHeader = styled.header`\n    grid-area: header;\n    position: fixed;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    padding: 1rem;\n    width: 100vw;\n    display: flex;\n    justify-content: space-between;\n    background: var(--blueColor);\n    z-index: 5;\n`;\n\nconst SNavLink = styled(NavLink)`\n    margin: 0.5rem;\n    padding: 0.5rem;\n    width: calc(25% - 1rem);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border: 1px solid #231E2F;\n    border-radius: 5px;\n    color: var(--onHoverColor);\n    text-decoration: none;\n    transition: var(--transitionApp);\n\n    &.active,\n    &:hover {\n        background: var(--onHoverColor);\n        color: #192955;\n    }\n`\n\n// Generate navlink\nconst GNavLink = ({isExact, to, linkText}) => {\n    return (\n        <SNavLink exact={isExact} activeClassName=\"active\" to={to}>\n            <span className=\"nav-link-text\">{linkText}</span>\n        </SNavLink>\n    )\n}\n\nexport default function Header() {\n    return (\n        <SHeader>\n            <GNavLink isExact={true} to=\"/parsel\"       linkText=\" \" />\n            <GNavLink isExact={true} to=\"/parsels\"      linkText=\" \" />\n            <GNavLink isExact={true} to=\"/traveler\"     linkText=\" \" />\n            <GNavLink isExact={true} to=\"/travelers\"    linkText=\" \" />\n        </SHeader>\n    )\n}","import { useState } from 'react';\nimport { useHistory } from 'react-router';\n\nimport { USER } from 'constants/constants';\nimport { SubmitFormData, useInput } from 'utils/form';\nimport { Notify } from 'components/app-notification/notification';\nimport Input from 'components/form-input/input';\nimport SubmitBtn from 'components/submit-btn/submit';\nimport PhoneField from 'components/phone-field/field';\n\nlet afterStyles = []; // form handle all ::after notifications\n\nexport default function SignUp() {\n    const nickname = useInput('');\n    const phone = useInput('');\n    const code = useInput('');\n    const [step, setStep] = useState(1);\n    const history = useHistory();\n\n    const fields = [phone, nickname, code]; // fields for reset\n\n    const onSuccessStep1 = () => {\n        Notify('success', \"    \" + phone.base.value + \".    \")\n        setStep(2);\n    }\n    const onSuccessStep2 = data => {\n        Notify('success', `  .  : \"${data?.login}\"   :\"${data?.password}\"`, false);\n        USER.guest = false;\n        history.push(\"/parsel\")\n    }\n    const onFail = err => Notify('fail', ' :' + err);\n\n    return (\n        step === 1\n            ? <form action=\"/sign/sms/up\" onSubmit={async (e) => {\n                afterStyles = await SubmitFormData(e, afterStyles, fields, undefined, onSuccessStep1, onFail, false);\n            }}>\n                <h3> ( 1)</h3>\n\n                <PhoneField index=\"0\" base={phone.base} />\n\n                <SubmitBtn value=\"!\" />\n            </form>\n\n            : <form action=\"/sign/up\" onSubmit={async (e) => {\n                afterStyles = await SubmitFormData(e, afterStyles, fields, undefined, onSuccessStep2, onFail);\n            }}>\n                <h3> ( 2)</h3>\n\n                <Input index=\"1\" id=\"nickname\" type=\"text\" name=\"nickname\" base={nickname.base} labelText=\"():\"\n                    minLength=\"3\" maxLength=\"20\" placeholder=\"Miron\"\n                />\n                <Input index=\"2\" id=\"code\" type=\"text\" name=\"code\" base={code.base} labelText=\"6- :\"\n                    minLength=\"6\" maxLength=\"6\" placeholder=\"123456\"\n                />\n                <SubmitBtn value=\"!\" />\n            </form>\n    )\n}\n","import { useHistory } from 'react-router';\n\nimport { USER } from 'constants/constants';\nimport { SubmitFormData, useInput, useTogglePassword } from 'utils/form';\nimport { UserOnline } from 'utils/user';\nimport { Notify } from 'components/app-notification/notification';\nimport Input from 'components/form-input/input';\nimport PasswordField from 'components/password-field/password';\nimport SubmitBtn from 'components/submit-btn/submit';\n\nlet afterStyles = []; // form handle all ::after notifications\n\nexport default function SignIn() {\n    const login = useInput();\n    const pass = useInput();\n    const passToggle = useTogglePassword();\n    const fields = [login, pass];\n    const history = useHistory()\n\n    // custom validation\n    const customValidation = () =>\n        (!(/[a-z]+/g.test(pass.base.value) && /[A-Z]+/g.test(pass.base.value) && /[0-9]+/g.test(pass.base.value))) ? [1] : [];\n\n    const onSuccess = async (data) => {\n        const isOnline = await UserOnline(data.id);\n        if (isOnline) {\n            Notify('success', \" \");\n            USER.guest = false;\n            history.push('/parsel');\n        } else Notify('fail', \" \")\n    }\n    const onFail = err => Notify('fail', \" :\" + err);\n\n    return (\n        <form action=\"/sign/in\" onSubmit={async (e) => {\n            afterStyles = await SubmitFormData(e, afterStyles, fields, customValidation, onSuccess, onFail);\n        }}>\n            <h3></h3>\n\n            <Input index=\"0\" id=\"login\" name=\"phone\" type=\"tel\" base={login.base} labelText=\":\"\n                minLength=\"11\" maxLength=\"15\" placeholder=\"87777777777\"\n            />\n            <PasswordField index=\"1\" id=\"password\" name=\"password\" labelText=\":\"\n                placeholder=\"User1234\" pass={pass} passToggle={passToggle}\n            />\n\n            <SubmitBtn value=\"!\" />\n        </form>\n    )\n}","import { useState } from 'react';\nimport { useHistory } from 'react-router';\n\nimport { SubmitFormData, useInput, useTogglePassword } from 'utils/form';\nimport { Notify } from 'components/app-notification/notification';\nimport Input from 'components/form-input/input';\nimport SubmitBtn from 'components/submit-btn/submit';\nimport PasswordField from 'components/password-field/password';\nimport PhoneField from 'components/phone-field/field';\n\nlet afterStyles = []; // form handle all ::after notifications\n\nexport default function Restore() {\n    const phone = useInput();\n    const code = useInput('');\n    const pass = useInput('');\n    const passToggle = useTogglePassword()\n    const [step, setStep] = useState(1);\n    const history = useHistory();\n    const fields = [phone, pass, code]; // fields for reset\n\n    const onSuccessStep1 = () => {\n        Notify('success', \"    \" + phone.base.value + \".    \");\n        setStep(2);\n    }\n    const onSuccessStep2 = () => {\n        Notify('success', \"  .\");\n        history.push(\"/sign\")\n    }\n    const onFail = err => Notify('fail', ' :' + err);\n\n    return step === 1\n        ? <form action=\"/sign/sms/ch\" onSubmit={async (e) => {\n            afterStyles = await SubmitFormData(e, afterStyles, fields, undefined, onSuccessStep1, onFail, false);\n        }}>\n            <h3>  ( 1)</h3>\n\n            <PhoneField index=\"0\" base={phone.base} />\n\n            <SubmitBtn value=\"!\" />\n        </form>\n\n        : <form action=\"/sign/re\" onSubmit={async (e) => {\n            afterStyles = await SubmitFormData(e, afterStyles, fields, undefined, onSuccessStep2, onFail);\n        }}>\n            <h3>  ( 2)</h3>\n\n            <PasswordField index=\"1\" id=\"password\" name=\"password\" labelText=\" :\"\n                placeholder=\"User1234\" pass={pass} passToggle={passToggle}\n            />\n\n            <Input index=\"2\" id=\"code\" type=\"text\" name=\"code\" base={code.base} labelText=\"6- :\"\n                minLength=\"6\" maxLength=\"6\" placeholder=\"123456\"\n            />\n            <SubmitBtn value=\"!\" />\n        </form>\n}","import { useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { USER } from 'constants/constants';\nimport { RandomKey } from 'utils/content';\n\nimport SignUp from './up/up';\nimport SignIn from './in/in';\nimport ResetPassword from './reset/reset';\nimport styled from 'styled-components';\n\nconst SSign = styled.section`\n    height: 100%;\n    margin-bottom: 1rem;\n    padding: 2rem;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-evenly;\n    align-items: center;\n    background: linear-gradient(45deg, #0054d2, #00d2f7, #1c62d8);\n   \n    & .logo {\n        max-width: 20rem;\n        max-height: 20rem;\n        border-radius: 50%;\n        overflow: hidden;\n\n        & img {\n            width: 100%;\n            height: 100%;\n        }\n    }\n\n    & h1 {\n        margin: 2rem;\n        text-align: center;\n        color: white;\n        font-size: 1.5rem;\n    }\n\n    & .main-action {\n        padding: 2rem 4rem;\n        margin-bottom: 2rem;\n        border-radius: 10px;\n        box-shadow: var(--boxShadow);\n        transition: .5s;\n\n        &:hover{\n            background: #ffffff2b;\n        }\n\n        & h3 {\n            color: white;\n            text-align: center;\n            margin-bottom: 1rem;\n        }\n    }\n\n    & .other-actions {\n        display: flex;\n        margin-bottom: 2rem;\n\n        & span {\n            margin: .5rem;\n            padding: .5rem;\n            border-radius: 5px;\n            cursor: pointer;\n            transition: var(--transitionApp);\n            box-shadow: var(--boxShadow);\n\n            &:hover {\n                background: #002148;\n            }\n        }\n    }\n\n    & a {\n        color: white;\n    }\n`;\n\nconst GSignAction = ({ action, setAction }) => {\n    let mainAction;\n    let otherActions = []\n    if (action === \"up\") {\n        mainAction = <SignUp />;\n        otherActions = [<GInAction key={RandomKey()} setAction={setAction} />, <GResetAction key={RandomKey()} setAction={setAction} />];\n    } else if (action === \"reset\") {\n        mainAction = <ResetPassword />;\n        otherActions = [<GUpAction key={RandomKey()} setAction={setAction} />, <GInAction key={RandomKey()} setAction={setAction} />];\n    } else {\n        mainAction = <SignIn />;\n        otherActions = [<GUpAction key={RandomKey()} setAction={setAction} />, <GResetAction key={RandomKey()} setAction={setAction} />];\n    }\n    return (\n        <>\n            <div className=\"main-action\">{mainAction}</div>\n            <div className=\"other-actions\">\n                {otherActions}\n            </div>\n        </>\n    )\n}\n\nconst GInAction = ({ setAction }) => <span className=\"btn btn-primary\" onClick={() => setAction(\"in\")}></span>\nconst GUpAction = ({ setAction }) => <span className=\"btn btn-primary\" onClick={() => setAction(\"up\")}> ? </span>\nconst GResetAction = ({ setAction }) => <span className=\"btn btn-primary\" onClick={() => setAction(\"reset\")}> ?</span>\n\nexport default function Sign() {\n    const [action, setAction] = useState(\"in\");\n\n    return (\n        <SSign>\n            <div className=\"logo\">\n                <img src=\"/assets/app/logo.png\" alt=\"logo\" />\n            </div>\n\n            <h1 className=\"container-fluid\">\n                Al-Ber   ,  ,     ,  ,   \n            </h1>\n\n            <GSignAction action={action} setAction={setAction} />\n\n            <Link to=\"/parsel\" onClick={()=>USER.guest = true}>  </Link>\n\n            <Link target=\"_blank\" download={true} to=\"/assets/rights/name.txt\"> </Link>\n        </SSign>\n    )\n}","import { Link } from \"react-router-dom\"\n\nimport styled from \"styled-components\"\n\nconst S404 = styled.section`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n    height: 100%;\n\n    & h2 {\n        font-size: 10rem;\n        color: var(--redColor);\n    }\n\n    & h3 {\n        font-size: 5rem;\n        color: var(--darkRedColor);\n    }\n\n    & a {\n        padding: 1rem;\n        border-radius: 5px;\n    }\n`;\n\nexport default function Page404() {\n    return (\n        <S404>\n            <h2>404</h2>\n            <h3>Not found</h3>\n\n            <Link to=\"/parsel\">Go home</Link>\n        </S404>\n    )\n}","import { USER } from \"constants/constants\"\nimport ManageParsel from \"components/parsel/manage/manage\";\n\nimport styled from \"styled-components\";\n\nconst SParsel = styled.section`\n    padding: 1rem;\n    margin: 1rem;\n\n    & .parsel_create_tip {\n        padding: 1rem;\n        margin: 1rem;\n        border-radius: 10px;\n        text-align: center;\n        background: #f5f000;\n        box-shadow: var(--boxShadow);\n    }\n`;\n\nconst SParselGuest = styled.section`\n    padding: 1rem;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n`;\n\nexport default function ParselPage() {\n    if (USER.status !== \"online\" || USER.guest) return <SParselGuest>,   </SParselGuest>\n    return (\n        <SParsel>\n            <div className=\"parsel_create_tip\">\n                 ,       ,        \n            </div>\n\n            <ManageParsel failText=\"   \" successText=\" \" />\n        </SParsel>\n    )\n}","import { useCallback, useEffect } from \"react\";\n\nimport { GetValueFromListByIDAndInputValue, OnChangeTransitPoint, ScrollHandler } from \"utils/effects\";\nimport { useInput } from \"utils/form\";\nimport { RandomKey, ValidateParselTravelerSearch } from \"utils/content\";\nimport { useFromTo } from \"utils/hooks\";\nimport Input from \"components/form-input/input\";\nimport Parsel from \"components/parsel/parsel\";\n\nimport styled from \"styled-components\";\n\nconst SParsels = styled.section`\n    &.parsels {\n        margin-bottom: 10rem;\n    }\n    \n    & .filters {\n        display: flex;\n        flex-wrap: wrap;\n        align-items: center;\n        justify-content: space-around;\n        padding: 1rem;\n        background: var(--blueColor);\n\n        & > div {\n            flex-basis: 20%;\n        }\n\n        & .search_btn {\n            padding: .5rem 1rem;\n            margin: 0 1rem;\n            border-radius: 10px;\n            box-shadow: var(--boxShadow);\n            transition: var(--transitionApp);\n\n            &:hover {\n                background: var(--onHoverBG);\n            }\n        }\n    }\n\n    @media screen and (max-width: 600px) {\n        & .filters {\n            justify-content: start;\n            \n            & > div {\n                flex-basis: 50%;\n            }\n\n            & .search_btn {\n                width: 100%;\n                text-align: center;\n            }\n        }\n    }\n`;\n\nexport default function ParselsPage() {\n    const from = useInput('');\n    const to = useInput('');\n    const fromID = useInput('');\n    const toID = useInput('');\n    const weight = useInput('');\n    const price = useInput('');\n\n    from.base.onChange = e => OnChangeTransitPoint(from, e, fromID.setCertainValue);\n    to.base.onChange = e => OnChangeTransitPoint(to, e, toID.setCertainValue);\n\n    const { datalist, isStopLoad, getPart } = useFromTo([], 5);\n\n    const loadParsels = useCallback((clear = false) => {\n        const params = ValidateParselTravelerSearch(\n            GetValueFromListByIDAndInputValue(\"from-list\", from.base.value), GetValueFromListByIDAndInputValue(\"to-list\", to.base.value),\n            weight.base.value * 1000, price.base.value\n        )\n        if (!params) return;\n        getPart(\"parsels\", params, '   ', true, clear === true ? true : false)\n    }, [from, to, weight, price, getPart])\n\n\n    useEffect(() => {\n        // set scroll handler\n        document.body.onscroll = e => ScrollHandler(e, isStopLoad, false, loadParsels, \"parsel\");\n    }, [isStopLoad, loadParsels])\n\n    return (\n        <SParsels className=\"parsels\">\n            <div className=\"filters\">\n                <Input id=\"from\" type=\"text\" name=\"from\" list=\"from-list\" base={from.base} labelText=\"\" />\n                <datalist id=\"from-list\"></datalist>\n\n                <Input id=\"to\" type=\"text\" name=\"to\" list=\"to-list\" base={to.base} labelText=\"\" />\n                <datalist id=\"to-list\"></datalist>\n\n                <Input type=\"number\" name=\"weight\" base={weight.base} labelText=\" ( )\" />\n                <Input type=\"number\" name=\"price\" base={price.base} labelText=\" ( )\" />\n\n                <span className=\"search_btn btn btn-primary\" onClick={() => loadParsels(true)}>\n                    <i className=\"fa fa-search\" aria-hidden=\"true\"></i>\n                </span>\n            </div>\n\n            {\n                datalist &&\n                <div className=\"parsels\">\n                    {datalist?.map(p => <Parsel key={RandomKey()} data={p} />)}\n                </div>\n            }\n        </SParsels>\n    )\n}","import { USER } from \"constants/constants\"\nimport ManageTraveler from \"components/traveler/manage/manage\";\n\nimport styled from \"styled-components\";\n\nconst STravel = styled.section`\n    padding: 1rem;\n    margin: 1rem;\n\n    & .travel_create_tip {\n        padding: 1rem;\n        margin: 1rem;\n        border-radius: 10px;\n        text-align: center;\n        background: #f5f000;\n        box-shadow: var(--boxShadow);\n    }\n`;\n\nconst STravelGuest = styled.section`\n    padding: 1rem;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n`;\n\nexport default function TravelerPage() {\n    if (USER.status !== \"online\" || USER.guest) return <STravelGuest>,   </STravelGuest>\n    return (\n        <STravel>\n            <div className=\"travel_create_tip\">\n                 ,       ,    ,    ,   \n            </div>\n\n            <ManageTraveler failText=\"    \" successText=\"  \" />\n        </STravel>\n    )\n}","import { useCallback, useEffect } from \"react\";\n\nimport { GetValueFromListByIDAndInputValue, OnChangeTransitPoint, ScrollHandler } from \"utils/effects\";\nimport { useInput } from \"utils/form\";\nimport { RandomKey, ValidateParselTravelerSearch } from \"utils/content\";\nimport { useFromTo } from \"utils/hooks\";\nimport Input from \"components/form-input/input\";\nimport Traveler from \"components/traveler/traveler\";\n\nimport styled from \"styled-components\";\n\nconst STravelers = styled.section`\n    &.travelers{\n        margin-bottom: 10rem;\n    }\n\n    & .filters {\n        display: flex;\n        flex-wrap: wrap;\n        align-items: center;\n        justify-content: space-evenly;\n        padding: 1rem;\n        background: var(--blueColor);\n\n        & > div {\n            flex-basis: 20%;\n        }\n\n        & .search_btn {\n            padding: .5rem 1rem;\n            margin: 0 1rem;\n            border-radius: 10px;\n            box-shadow: var(--boxShadow);\n            transition: var(--transitionApp);\n\n            &:hover {\n                background: var(--onHoverBG);\n            }\n        }\n    }\n\n    @media screen and (max-width: 600px) {\n        & .filters {\n            justify-content: start;\n\n            & > div {\n                flex-basis: 50%;\n            }\n\n            & .search_btn {\n                width: 100%;\n            }\n        }\n    }\n`;\n\nexport default function TravelersPage() {\n    const from = useInput('');\n    const to = useInput('');\n    const fromID = useInput('');\n    const toID = useInput('');\n\n    from.base.onChange = e => OnChangeTransitPoint(from, e, fromID.setCertainValue);\n    to.base.onChange = e => OnChangeTransitPoint(to, e, toID.setCertainValue);\n\n    const { datalist, isStopLoad, getPart } = useFromTo()\n\n    const loadTravelers = useCallback((clear = false) => {\n        const params = ValidateParselTravelerSearch(\n            GetValueFromListByIDAndInputValue(\"from-list\", from.base.value), GetValueFromListByIDAndInputValue(\"to-list\", to.base.value)\n        )\n        if (!params) return;\n        getPart(\"travelers\", params, '   ', true, clear === true ? true : false)\n    }, [from, to, getPart])\n\n\n    useEffect(() => {\n        // set scroll handler\n        document.body.onscroll = e => ScrollHandler(e, isStopLoad, false, loadTravelers, \"traveler\");\n    }, [isStopLoad, loadTravelers])\n\n    return (\n        <STravelers className=\"travelers\">\n            <div className=\"filters\">\n                <Input id=\"from\" type=\"text\" name=\"from\" list=\"from-list\" base={from.base} labelText=\"\" />\n                <datalist id=\"from-list\"></datalist>\n\n                <Input id=\"to\" type=\"text\" name=\"to\" list=\"to-list\" base={to.base} labelText=\"\" />\n                <datalist id=\"to-list\"></datalist>\n\n                <span className=\"search_btn btn btn-primary\" onClick={() => loadTravelers(true)}>\n                    <i className=\"fa fa-search\" aria-hidden=\"true\"></i>\n                </span>\n            </div>\n\n            {\n                datalist &&\n                <div className=\"travelers\">\n                    {datalist?.map(p => <Traveler key={RandomKey()} data={p} />)}\n                </div>\n            }\n        </STravelers>\n    )\n}","import styled from \"styled-components\"\n\nconst SFaq = styled.article`\n    padding: 2rem;\n\n    & > * {\n        margin: 2rem 0;\n    }\n\n    & h1.faq__title {\n        color: white;\n    }\n\n    & p.faq__intro {\n        font-size: 1.2rem;\n    }\n\n    & .accordion-body{\n        background: #192955;\n        color: white;\n    }\n`;\n\nexport default function FaqPage() {\n    return (\n        <SFaq className=\"faq\">\n            <h1 className=\"faq__title\">  </h1>\n            <p className=\"faq__intro\">\n                     ,    . ,   .  ,        , ,   .\n            </p>\n\n            <div className=\"accordion\" id=\"faq-accordion\">\n                <div className=\"accordion-item\">\n                    <h2 className=\"accordion-header\" id=\"safety\">\n                        <button className=\"accordion-button\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#collapseOne\" aria-expanded=\"true\" aria-controls=\"collapseOne\">\n                              ?\n                        </button>\n                    </h2>\n                    <div id=\"collapseOne\" className=\"accordion-collapse collapse show\">\n                        <div className=\"accordion-body\">\n                               , .       ( ) .      ,        <a className=\"faq-list__link\" href=\"/assets/rights/name.txt\" target=\"_blank\"></a>.\n                        </div>\n                    </div>\n                </div>\n                <div className=\"accordion-item\">\n                    <h2 className=\"accordion-header\" id=\"payment\">\n                        <button className=\"accordion-button\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#collapseTwo\" aria-expanded=\"true\" aria-controls=\"collapseTwo\">\n                              ?\n                        </button>\n                    </h2>\n                    <div id=\"collapseTwo\" className=\"accordion-collapse collapse\">\n                        <div className=\"accordion-body\">\n                            Al-Ber   .     ,        .      ( ,     )     .\n                        </div>\n                    </div>\n                </div>\n                <div className=\"accordion-item\">\n                    <h2 className=\"accordion-header\" id=\"responsibility\">\n                        <button className=\"accordion-button\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#collapseThree\" aria-expanded=\"true\" aria-controls=\"collapseThree\">\n                               ?\n                        </button>\n                    </h2>\n                    <div id=\"collapseThree\" className=\"accordion-collapse collapse\">\n                        <div className=\"accordion-body\">\n                                   <a className=\"faq-list__link\" href=\"/assets/rights/name.txt\" target=\"_blank\"></a>.         . Al-Ber        .\n                        </div>\n                    </div>\n                </div>\n                <div className=\"accordion-item\">\n                    <h2 className=\"accordion-header\" id=\"max-weight\">\n                        <button className=\"accordion-button\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#collapseFour\" aria-expanded=\"true\" aria-controls=\"collapseFour\">\n                                  ?\n                        </button>\n                    </h2>\n                    <div id=\"collapseFour\" className=\"accordion-collapse collapse\">\n                        <div className=\"accordion-body\">\n                             ,   Al-Ber      5 .    (        20 )      .\n                        </div>\n                    </div>\n                </div>\n                <div className=\"accordion-item\">\n                    <h2 className=\"accordion-header\" id=\"price\">\n                        <button className=\"accordion-button\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#collapseFive\" aria-expanded=\"true\" aria-controls=\"collapseFive\">\n                                 ?\n                        </button>\n                    </h2>\n                    <div id=\"collapseFive\" className=\"accordion-collapse collapse\">\n                        <div className=\"accordion-body\">\n                                ,     .    ,        .\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </SFaq>\n    )\n}","import styled from \"styled-components\"\n\nconst SContacts = styled.article`\n    padding: 2rem;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    color: white;\n\n    & > * {\n        margin: 1rem 0;\n    }\n\n    p.contacts__intro {\n        font-size: 1.2rem;\n    }\n\n    section.contacts-section {\n        display: flex;\n        flex-wrap: wrap;\n        align-items: center;\n    }\n\n    .contacts-block {\n        margin: 1rem;\n        max-width: 50%;\n        min-width: 25%;\n\n        & a {\n            text-decoration: none;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            flex-direction: column;\n            color: #192955;\n        }\n    }\n\n    .contacts-block i {\n        font-size: 3rem;\n        color: #1b68d9;\n    }\n`;\n\nexport default function ContactsPage() {\n    return (\n        <SContacts className=\"contacts\">\n            <h1 className=\"contacts__title\"> </h1>\n            <p className=\"contacts__intro\">\n                 ,     Al-Ber.<br />\n                    &nbsp;      .\n            </p>\n\n            <section className=\"contacts-section\">\n                <div className=\"contacts-block\">\n                    <a className=\"contacts-block__link\" rel=\"noreferrer\" href=\"https://wa.me/+77787833831\" alt=\"\" target=\"_blank\">\n                        <i className=\"fa fa-whatsapp\" aria-hidden=\"true\"></i>\n\n                        <div className=\"contacts-block__right\">\n                            <span className=\"contacts-block__text\">WhatsApp</span>\n                        </div>\n                    </a>\n                </div>\n\n                <div className=\"contacts-block\">\n                    <a className=\"contacts-block__link\" href=\"mailto:Aibek.burkitbay@gmail.com\">\n                        <i className=\"fa fa-envelope\" aria-hidden=\"true\"></i>\n\n                        <div className=\"contacts-block__right\">\n                            <span className=\"contacts-block__text\"> </span>\n                        </div>\n                    </a>\n                </div>\n\n                <div className=\"contacts-block\">\n                    <a className=\"contacts-block__link\" href=\"tel:+77787833831\">\n                        <i className=\"fa fa-phone\" aria-hidden=\"true\"></i>\n\n                        <div className=\"contacts-block__right\">\n                            <span className=\"contacts-block__text\">+7 778 783-38-31</span>\n                        </div>\n                    </a>\n                </div>\n\n                <div className=\"contacts-block\">\n                    <a className=\"contacts-block__link\" rel=\"noreferrer\" href=\"https://www.instagram.com/Al_ber.kz\" target=\"_blank\">\n                        <i className=\"fa fa-instagram\" aria-hidden=\"true\"></i>\n\n                        <div className=\"contacts-block__right\">\n                            <span className=\"contacts-block__text\">Instagram</span>\n                        </div>\n                    </a>\n                </div>\n            </section>\n        </SContacts>\n    )\n}","import { useCallback, useEffect, useRef, useState } from \"react\"\nimport { Redirect } from \"react-router\"\n\nimport { USER } from \"constants/constants\"\nimport { Fetching, GetDataByCrieteries } from \"utils/api\"\nimport { RandomKey } from \"utils/content\"\nimport { useInput } from \"utils/form\"\nimport { Notify } from \"components/app-notification/notification\"\nimport Input from \"components/form-input/input\"\nimport styled from \"styled-components\"\n\nconst SAdmin = styled.div`\n    padding: 1rem;\n    \n    &.admins {\n        margin-bottom: 7rem;\n    }\n\n    .btn {\n        box-shadow: var(--boxShadow);\n    }\n\n    & > * {\n        margin: 1rem;\n    }\n\n    .title {\n        text-align: center;\n    }\n\n    .routes-items {\n        max-height: 20vh;\n        padding: 1rem;\n        overflow: auto;\n\n        .route-item {\n            margin: 5px 0;\n            padding: 5px;\n            color: white;\n            background: #192955;\n            box-shadow: var(--boxShadow);\n            cursor: pointer;\n            transition: .5s;\n\n            &:hover,\n            &.active {\n                background: white;\n                color: #192955;\n            }\n        }\n    }\n\n    .active_route {\n        border: 1px solid white;\n        padding: 1rem;\n\n        .active_title{\n            text-align: center;\n\n            b {\n                color: red;\n            }\n        }\n    }\n\n    .method-items {\n        display: flex;\n        align-items: center;\n\n        & span {\n            padding: 1rem;\n            margin: 1rem;\n            border-radius: 10px;\n            cursor: pointer;\n            transition: .5s;\n\n            &:hover,\n            &.active{\n                background: white;\n                color: #192955;\n            }\n        }\n    }\n\n    .add-params {\n        display: flex;\n        align-items: center;\n\n        & > * {\n            margin: 1rem;\n        }\n    }\n\n    .param-item {\n        padding: .5rem 0;    \n        display: flex;\n        align-items: center;\n\n        .param-content {\n            display: flex;\n            align-items: center;\n            width: 80%;\n        }\n\n        .param-content > * {\n            margin: 0 1rem;\n            padding: 1rem;\n            width: 50%;\n            color: white;\n            border-radius: 10px;\n            background: #192955;\n            box-shadow: var(--boxShadow);\n        }\n    }\n\n    button.btn.btn-primary.search {\n        margin: 1rem;\n        width: 80%;\n    }\n\n    .results {\n        color: white;\n\n        pre {\n            background: black;\n        }\n    }\n`;\n\nconst GRoute = ({ active, route, description, methods, children = [], params = {}, setRoute }) => {\n    return (\n        <div className={`route-item ${active?.route === route ? \"active\" : \"\"}`} onClick={() => setRoute({ 'route': route, 'methods': methods, 'params': params ? params : undefined })}>\n            <span> <b> {route} </b> {description}</span>\n\n            {children && children.map(r => <GRoute setRoute={setRoute} key={RandomKey()} {...r} />)}\n        </div>\n    )\n}\n\nconst GParam = ({ k, v, removeParam }) => {\n    return (\n        <div className=\"param-item\">\n            <div className=\"param-content\">\n                <span>: {k}</span>\n                <span>: {v}</span>\n            </div>\n\n            {removeParam && <button className=\"btn btn-primary remove-param\" onClick={() => removeParam(k)}>X</button>}\n        </div>\n    )\n}\n\nconst GResultData = ({ data }) => {\n    const rf = useRef(null);\n\n    useEffect(() => {\n        if (rf.current) rf.current.innerHTML = window.prettyPrintJson.toHtml(data)\n    })\n\n    return <pre ref={rf}></pre>\n}\n\nconst addParam = (key, value, params, setParams, fields) => {\n    setParams([...params, { 'k': key, 'v': value }])\n    fields.forEach(f => f.resetField())\n}\n\nconst removeParam = (key, params, setParams) => setParams([...params.filter(p => p.k !== key)])\n\nexport default function AdminPage() {\n    const [routes, setRoutes] = useState()\n    const [data, setData] = useState()\n\n    const [route, setRoute] = useState()\n    const [method, setMethod] = useState(\"GET\")\n    const [params, setParams] = useState([])\n\n    const key = useInput(\"\")\n    const value = useInput(\"\")\n    const fields = [key, value];\n\n    const getRoutes = useCallback(async () => {\n        const resp = await GetDataByCrieteries(\"\", {}, \"GET\")\n        if (resp.err && resp.err !== \"ok\") return Notify('fail', \"   \") || setRoutes(null);\n        setRoutes(resp);\n    }, [])\n\n    const getData = useCallback(async () => {\n        const data = new FormData();\n        params.forEach(p => data.append(p.k, p.v))\n\n        const resp = await Fetching(\"/api/\" + route.route, data, method)\n        if (resp.code !== 200) return Notify('fail', \"  \") || setData(null);\n        setData(resp.data);\n    }, [route, params, method])\n\n    useEffect(() => {\n        if (routes === undefined) getRoutes()\n    })\n\n    if (!USER.isAdmin) return <Redirect to=\"/parsel\" />\n    if (!routes) return <div>   </div>\n\n    return (\n        <SAdmin className=\"admins\">\n            <h1 className=\"title\"></h1>\n\n            <div className=\"routes\">\n                <h2></h2>\n\n                <div className=\"routes-items\">\n                    {\n                        routes && routes.map(r => <GRoute active={route} setRoute={setRoute} key={RandomKey()} {...r} />)\n                    }\n                </div>\n            </div>\n\n            {\n                route &&\n                <div className=\"active_route\">\n                    <h3 className=\"active_title\">  <b> {route.route} </b></h3>\n\n                    <div className=\"methods\">\n                        <h3></h3>\n\n                        <div className=\"method-items\">\n                            {route.methods.map(m => <span key={RandomKey()} className=\"btn btn-primary\">{m}</span>)}\n                        </div>\n                    </div>\n\n                    {\n                        route?.params &&\n                        <div className=\"params\">\n                            <h3></h3>\n\n                            <div className=\"params-items\">\n                                {route?.params.map(p => <GParam key={RandomKey()} {...p} />)}\n                            </div>\n                        </div>\n                    }\n                </div>\n            }\n\n            <div className=\"method\">\n                <h2></h2>\n\n                <div className=\"method-items\">\n                    <span className={`btn btn-primary ${method === \"GET\" ? \"active\" : \"\"}`} onClick={() => setMethod(\"GET\")}>GET</span>\n                    <span className={`btn btn-primary ${method === \"POST\" ? \"active\" : \"\"}`} onClick={() => setMethod(\"POST\")}>POST</span>\n                </div>\n            </div>\n\n            <div className=\"params\">\n                <h2></h2>\n\n                <div className=\"add-params\">\n                    <Input type=\"text\" labelText=\"\" base={key.base} />\n                    <Input type=\"text\" labelText=\"\" base={value.base} />\n                    <button className=\"btn btn-primary\" onClick={() => addParam(key.base.value, value.base.value, params, setParams, fields)}></button>\n                </div>\n\n                {params && params.map(p => <GParam key={RandomKey()} removeParam={(key) => removeParam(key, params, setParams)} {...p} />)}\n            </div>\n\n            <button className=\"btn btn-primary search\" onClick={getData}></button>\n\n            {\n                data &&\n                <div className=\"results\">\n                    <h2></h2>\n\n                    {/* pretty print */}\n                    <GResultData data={data} />\n                </div>\n            }\n\n        </SAdmin>\n    )\n}","import { Redirect, useHistory } from 'react-router';\nimport { Switch, Route } from 'react-router-dom';\n\nimport { RandomKey } from 'utils/content';\nimport SignPage from 'routes/sign/sign';\nimport Page404 from 'routes/404/404';\nimport ParselPage from 'routes/parsel/parsel';\nimport ParselsPage from 'routes/parsels/parsels';\nimport TravelerPage from 'routes/traveler/traveler';\nimport TravelersPage from 'routes/travelers/travelers';\nimport FaqPage from 'routes/faq/faq';\nimport ContactsPage from 'routes/contacts/contacts';\nimport AdminPage from 'routes/admins/admins';\nimport Popup from 'components/popup/popup';\nimport AppNotifications from 'components/app-notification/notification';\n\nimport styled from 'styled-components';\n\nconst SMain = styled.main`\n    grid-area: main;\n    background: linear-gradient(45deg, #0054d2, #00d2f7, #1c62d8);\n\n    & > * {\n        margin-bottom: 5rem;\n    }\n`;\n\n// app's routes\nconst ROUTES = [ {\n    href: \"/sign\",\n    isExact: false,\n    component: SignPage,\n}, {\n    href: \"/parsel\",\n    isExact: true,\n    component: ParselPage,\n}, {\n    href: \"/parsels\",\n    isExact: true,\n    component: ParselsPage,\n}, {\n    href: \"/traveler\",\n    isExact: true,\n    component: TravelerPage,\n}, {\n    href: \"/travelers\",\n    isExact: true,\n    component: TravelersPage,\n}, {\n    href: \"/faq\",\n    isExact: true,\n    component: FaqPage,\n}, {\n    href: \"/contacts\",\n    isExact: true,\n    component: ContactsPage,\n}, {\n    href: \"/admin\",\n    isExact: true,\n    component: AdminPage,\n}]\n\nexport default function DefineRoutes() {\n    const history = useHistory();\n\n    if (history.location.pathname === \"/\") return <Redirect to=\"/parsel\" />\n    return (\n        <SMain>\n            <Switch>\n                {\n                    ROUTES.map(\n                        ({ href, component, isExact }) => <Route key={RandomKey()} exact={isExact} path={href} component={component} />\n                    )\n                }\n                <Route component={Page404} />\n            </Switch>\n\n            <Popup />\n            <AppNotifications />\n        </SMain>\n    )\n}","import { useEffect } from 'react';\nimport { useHistory } from 'react-router';\n\nimport { USER } from 'constants/constants';\nimport { IS_SIGN } from 'utils/content';\nimport Aside from 'components/aside/aside';\nimport Header from 'components/header/header';\nimport Main from 'components/routes/routes';\n\nimport './App.css';\nimport styled from 'styled-components';\n\nconst SApp = styled.div`\n  \tdisplay: grid;\n    grid-template-areas: ${props => props.isSign ? \"'main'\" : '\"main aside\" \"header aside\"'};\n    grid-template-rows: ${props => props.isSign ? \"1fr\" : '1fr 7vh'};\n    grid-template-columns: ${props => props.isSign ? '1fr' : '1fr 0fr'};\n    min-height: 100vh;\n    overflow: hidden;\n\n\t@media screen and (max-width: 600px) {\n\t\t& {\n\t\t\tgrid-template-areas: '\"main aside\" \"header aside\"';\n\t\t\tgrid-template-columns: 1fr;\n\t\t\tgrid-template-rows: 1fr 0fr;\n\t\t}\n\t}\n`;\n\nexport default function App() {\n    const isSign = IS_SIGN();\n    const history = useHistory();\n\n    useEffect(() => {\n        if (USER.status === \"online\") return isSign && history.push(\"/parsel\")\n        if (!USER.guest) return history.push('/sign');\n    }, [history, isSign]);\n\n    return (\n        <SApp isSign={isSign}>\n            {\n                isSign\n                    ? null\n                    : <>\n                        <Aside />\n                        <Header />\n                    </>\n            }\n\n            <Main />\n        </SApp>\n    )\n};\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nimport { IsLogged, UserOnline } from 'utils/user';\nimport App from './App'\n\nimport reportWebVitals from './reportWebVitals';\n\nconst check = async () => {\n  const id = await IsLogged();\n  if (id) return await UserOnline(id);\n}\n\nconst init = async () => {\n  await check();\n  ReactDOM.render(\n    <React.StrictMode >\n      <Router >\n        <App />\n      </Router>\n    </React.StrictMode>,\n    document.getElementById('root')\n  );\n}\n\ninit();\n\nreportWebVitals();\n"],"sourceRoot":""}